<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-barber-shop.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"19980118.xyz","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"show_result":true,"style":"mac"},"bookmark":{"enable":true,"color":"#ffc0cb","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>


<!-- Chatra {literal} -->
<script>
    (function(d, w, c) {
        w.ChatraID = 'QoLQx5ntEgvMDisbP';
        var s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = 'https://call.chatra.io/chatra.js';
        if (d.head) d.head.appendChild(s);
    })(document, window, 'Chatra');
</script>
<!-- /Chatra {/literal} -->


<link rel="canonical" href="https://19980118.xyz/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://19980118.xyz/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/","path":"2024/01/27/Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot/","title":"Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot | 魔装少男的博客</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?497aa34d870c1d7996acc609bf1d5afd"></script>




<link rel="dns-prefetch" href="https://comm.19980118.xyz">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
<!--我自定义的搜索-->
<script async="true" src="https://pengxiandyou.github.io/gitee-pengxiandyou/src/js/search-my.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    $(document).on('click', '.fold_hider', function(){
        $('>.fold', this.parentNode).slideToggle();
        $('>:first', this).toggleClass('open');
    });
    //默认情况下折叠
    $("div.fold").css("display","none");

    //图片转圈加载
    $('article img[data-src^="http"]').attr("myImgName","MyImg");
    $('article img[data-src^="http"]').attr("retry","10");
    var imgdefereds=[];
    $('article img').each(function(){
        var dfd=$.Deferred();
        $(this).bind('load',function(){
          dfd.resolve();
           $(this).attr("myImgName","");
        }).bind('error',function(){
         //图片加载错误，加入错误处理
         
         var retry = parseInt($(this).attr("retry"));
         if(retry > 1){
            var d= new Date();
            $(this).attr("src",$(this).attr("src")+"?"+d.getTime());
            $(this).attr("retry",retry-1);
         }else{
           $(this).attr("retrysrc",$(this).attr("src"));
          $(this).bind('click',function(){
              $(this).attr("src",$(this).attr("retrysrc"));
              $(this).attr("retry","10");
          });
          $(this).attr("src","data:image/image/png;base64,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");
         }
          
          dfd.resolve();
        })
//       if(this.complete) 
//         $(this).attr("class","");

        imgdefereds.push(dfd);
      })
      $.when.apply(null,imgdefereds).done(function(){
        callback();
       dfd.resolve();
      });

});
</script>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">魔装少男的博客</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">我可爱又美丽却能唤来死亡 <br>  虽然我可爱又迷人,但我能招来死亡</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签<span class="badge">65</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>分类<span class="badge">32</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">47</span></a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="heartbeat fa-fw"></i>公益 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
     <li class="menu-item menu-item-search-my">
      <a>
      <i class="fa fa-search fa-fw"></i>
      <input type="text" value="B:我爱你" name="wd" id="kw2" class="kw" size="15"  autocomplete="off" onkeydown="keyDown(event,this.value)" onfocus="javascript:if(this.value=='B:我爱你')this.value='';" onblur="javascript:if (this.value=='')this.value='B:我爱你'"><i class="fa fa-long-arrow-right" onclick="search(document.getElementById('kw2').value)" style="margin-left:0.35em;margin-top:0.35em;float:right;"></i>
      </a>
      </li>

      <li class="menu-item menu-item-gonggao-my" style="opacity: 1; transform: translateY(0px);">
      <div style=" border:1px solid #ffc0cb"><div>
  <font color="#ffc0cb">小公告：</font>
</div>
<iframe src="https://pengxiandyou.github.io/gitee-pengxiandyou/src/hexo-next/%E5%85%AC%E5%91%8A.html"></iframe>
</div>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#maven"><span class="nav-number">1.</span> <span class="nav-text"> Maven</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring"><span class="nav-number">2.</span> <span class="nav-text"> Spring</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">2.1.</span> <span class="nav-text"> 前言</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E4%BD%93%E7%B3%BB"><span class="nav-number">2.1.1.</span> <span class="nav-text"> 技术体系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%86%E6%9E%B6%E6%A6%82%E5%BF%B5%E5%92%8C%E7%90%86%E8%A7%A3"><span class="nav-number">2.1.2.</span> <span class="nav-text"> 框架概念和理解</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#springframework%E7%AE%80%E4%BB%8B"><span class="nav-number">2.2.</span> <span class="nav-text"> SpringFramework简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#spring%E5%92%8Cspringframework"><span class="nav-number">2.2.1.</span> <span class="nav-text"> Spring和SpringFramework</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#springframework%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97"><span class="nav-number">2.2.2.</span> <span class="nav-text"> SpringFramework主要功能模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#springframework%E4%B8%BB%E8%A6%81%E4%BC%98%E5%8A%BF"><span class="nav-number">2.2.3.</span> <span class="nav-text"> SpringFramework主要优势</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#springloc%E5%AE%B9%E5%99%A8%E6%A6%82%E5%BF%B5"><span class="nav-number">2.3.</span> <span class="nav-text"> Springloc容器概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5"><span class="nav-number">2.3.1.</span> <span class="nav-text"> 组件和组件管理概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-ioc%E5%AE%B9%E5%99%A8%E5%92%8C%E5%AE%B9%E5%99%A8%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.3.2.</span> <span class="nav-text"> Spring IoC容器和容器实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-iocdi%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93"><span class="nav-number">2.3.3.</span> <span class="nav-text"> Spring IoC&#x2F;DI概念总结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring-iocdi%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.4.</span> <span class="nav-text"> Spring IoC&#x2F;DI实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="nav-number">2.4.1.</span> <span class="nav-text"> 实现步骤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Exml%E6%96%B9%E5%BC%8F%E7%AE%A1%E7%90%86bean"><span class="nav-number">2.4.2.</span> <span class="nav-text"> 基于XML方式管理Bean</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E5%92%8C%E8%8E%B7%E5%8F%96bean"><span class="nav-number">2.4.2.1.</span> <span class="nav-text"> 声明配置文件、创建容器和获取Bean</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BCsetter%E6%B3%A8%E5%85%A5"><span class="nav-number">2.4.2.2.</span> <span class="nav-text"> Bean属性赋值：setter注入</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E5%BC%95%E7%94%A8%E5%85%B6%E4%BB%96bean"><span class="nav-number">2.4.2.3.</span> <span class="nav-text"> Bean属性赋值：引用其他Bean</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E5%86%85%E9%83%A8bean%E5%A3%B0%E6%98%8E%E4%BA%86%E8%A7%A3"><span class="nav-number">2.4.2.4.</span> <span class="nav-text"> Bean属性赋值：内部Bean声明（了解）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E8%B5%8B%E5%80%BC"><span class="nav-number">2.4.2.5.</span> <span class="nav-text"> Bean属性赋值：集合类型赋值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8properties%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">2.4.2.6.</span> <span class="nav-text"> Bean属性赋值：引入外部Properties配置参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7factorybean%E7%89%B9%E6%80%A7"><span class="nav-number">2.4.2.7.</span> <span class="nav-text"> 高级特性：FactoryBean特性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">2.4.2.8.</span> <span class="nav-text"> 高级特性：Bean的作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%AD%A4%E5%A4%84%E6%AF%94%E8%BE%83%E7%AE%80%E7%95%A5"><span class="nav-number">2.4.2.9.</span> <span class="nav-text"> 高级特性：Bean的生命周期（此处比较简略）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E7%AE%A1%E7%90%86bean"><span class="nav-number">2.4.3.</span> <span class="nav-text"> 基于注解方式管理Bean</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E6%B3%A8%E8%A7%A3%E6%A0%87%E8%AE%B0%E5%92%8C%E6%89%AB%E6%8F%8Fioc"><span class="nav-number">2.4.3.1.</span> <span class="nav-text"> Bean注解标记和扫描（Ioc）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8Ddi"><span class="nav-number">2.4.3.2.</span> <span class="nav-text"> Bean属性赋值：引用类型自动装配（DI）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#bean%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BCdi"><span class="nav-number">2.4.3.3.</span> <span class="nav-text"> Bean属性赋值：基本类型属性赋值(DI）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E9%85%8D%E7%BD%AE%E7%B1%BB%E6%96%B9%E5%BC%8F%E7%AE%A1%E7%90%86bean"><span class="nav-number">2.4.4.</span> <span class="nav-text"> 基于配置类方式管理Bean</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93"><span class="nav-number">2.4.5.</span> <span class="nav-text"> 三种方式的配置总结</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%BB%E6%9D%BE%E6%B5%8B%E8%AF%95%E9%85%8D%E7%BD%AE"><span class="nav-number">2.4.6.</span> <span class="nav-text"> 轻松测试配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring-aop%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B"><span class="nav-number">2.5.</span> <span class="nav-text"> Spring AOP面向切面编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">2.6.</span> <span class="nav-text"> Spring声明式事务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#jdbctemplate%E4%BD%BF%E7%94%A8"><span class="nav-number">2.6.1.</span> <span class="nav-text"> JDBCTemplate使用</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%87%86%E5%A4%87"><span class="nav-number">2.6.1.1.</span> <span class="nav-text"> 准备</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">2.6.1.2.</span> <span class="nav-text"> 使用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">2.6.2.</span> <span class="nav-text"> 声明式事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#xml%E9%85%8D%E7%BD%AE%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">2.6.3.</span> <span class="nav-text"> xml配置声明式事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%B1%BB%E9%85%8D%E7%BD%AE%E5%A3%B0%E6%98%8E%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-number">2.6.4.</span> <span class="nav-text"> 配置类配置声明式事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#transactional%E6%B3%A8%E8%A7%A3"><span class="nav-number">2.6.5.</span> <span class="nav-text"> @Transactional注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%86%E4%BA%8B%E5%8A%A1%E6%B3%A8%E8%A7%A3%E6%94%BE%E5%88%B0xml%E6%96%87%E4%BB%B6"><span class="nav-number">2.6.6.</span> <span class="nav-text"> 将事务注解放到xml文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#springmvc"><span class="nav-number">3.</span> <span class="nav-text"> SpringMVC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">3.1.</span> <span class="nav-text"> 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%93%E9%AA%8C"><span class="nav-number">3.2.</span> <span class="nav-text"> 体验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#requestmapping"><span class="nav-number">3.3.</span> <span class="nav-text"> @RequestMapping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#requestparam"><span class="nav-number">3.4.</span> <span class="nav-text"> @RequestParam</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E5%BE%84%E4%BC%A0%E5%8F%82pathvariable"><span class="nav-number">3.5.</span> <span class="nav-text"> 路径传参@PathVariable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6json%E6%95%B0%E6%8D%AErequestbody"><span class="nav-number">3.6.</span> <span class="nav-text"> 接收JSON数据@RequestBody</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96cookiecookievalue"><span class="nav-number">3.7.</span> <span class="nav-text"> 获取cookie@CookieValue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="nav-number">3.8.</span> <span class="nav-text"> 获取请求头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9Fapi"><span class="nav-number">3.9.</span> <span class="nav-text"> 使用原生API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AA%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">4.</span> <span class="nav-text"> 未解决的问题</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小可爱"
      src="/images/%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">小可爱</p>
  <div class="site-description" itemprop="description">西部计划完结</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="sidebar-button site-overview-item animated">
    <button><i class="fa fa-comment"></i>
      比较直接的联系我
    </button>
  </div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/pengxiandyou" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;pengxiandyou" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.coolapk.com/u/1385475" title="酷安 → https:&#x2F;&#x2F;www.coolapk.com&#x2F;u&#x2F;1385475" rel="noopener" target="_blank">酷安</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/20837528" title="B站 → https:&#x2F;&#x2F;space.bilibili.com&#x2F;20837528" rel="noopener" target="_blank"><i class="fab fa-tv fa-fw"></i>B站</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/pengxiandyou" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;pengxiandyou" rel="noopener" target="_blank"><i class="fab fa-gitee fa-fw"></i>Gitee</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://pengxiandyou.gitee.io/src/game/t-rex-runner/" title="https:&#x2F;&#x2F;pengxiandyou.gitee.io&#x2F;src&#x2F;game&#x2F;t-rex-runner&#x2F;" rel="noopener" target="_blank">小恐龙游戏</a>
        </li>
    </ul>
  </div>

        </div>
      </div>



            <div>
          <i class="fa fa-search fa-fw"></i>
      <input type="text" value="B:我爱你" name="wd" id="kw1" class="kw" size="15"  autocomplete="off" onkeydown="keyDown(event,this.value)" onfocus="javascript:if(this.value=='B:我爱你')this.value='';" onblur="javascript:if (this.value=='')this.value='B:我爱你'"><i class="fa fa-long-arrow-right" onclick="search(document.getElementById('kw1').value)" style="margin-left:0.35em;margin-top:0.35em;float:right;"></i>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/pengxiandyou" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<script>
$("document").ready(function(){
  // 在这里写你的代码...
  //var e1 = $("article[class='post-content'][lang='zh-CN']")[0];
  //$("e1").css("display","blok;");
  hbeLoader();



});
</script>
<div class="post-block">
  
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"   >
    <link itemprop="mainEntityOfPage" href="https://19980118.xyz/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="小可爱">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魔装少男的博客">
      <meta itemprop="description" content="西部计划完结">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot | 魔装少男的博客">
      <meta itemprop="description" content="<p>&emsp;&emsp;虽然有些学过用过，但是感性的理解不好说，久了不用容易遗忘一些，还是记一下吧。</p><p>&emsp;&emsp;过程中使用的是Oracle JDK。</p>">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-27 00:34:26" itemprop="dateCreated datePublished" datetime="2024-01-27T00:34:26+08:00">2024-01-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-02-25 11:21:49" itemprop="dateModified" datetime="2024-02-25T11:21:49+08:00">2024-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AC%94%E8%AE%B0/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/#waline" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" data-path="/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>53k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>48 分钟</span>
    </span>
</div>

            <div class="post-description"><p>&emsp;&emsp;虽然有些学过用过，但是感性的理解不好说，久了不用容易遗忘一些，还是记一下吧。</p><p>&emsp;&emsp;过程中使用的是Oracle JDK。</p></div>

          
        </div>
      </header>


    
    
    
    <div class="post-body" itemprop="articleBody" >
        <h2 id="maven"><a class="markdownIt-Anchor" href="#maven"></a> Maven</h2>
<p>  Maven是一款为Java项目管理构建、依赖管理的工具（软件）使用Maven可以自动化构建、测试、打包和发布项目，大大提高了开发效率和质量。</p>
<p>  <strong>依赖管理：</strong> Maven可以管项自的依赖，包括自动下载所需依赖库、自动载依赖需要的依赖并自保证版本没有冲突依赖版本管理等。通过Maven，我们可以方便地维护项目所依赖的外部库，而我们仅仅需要编写配置即可。</p>
<p>  **构建管理：**Maven可以管理项自的编译、测试、打包、部暑等构建过程。通过实现标准的构建生命周期，Maven可以确保每一个构建过程都遵循同样的规则和最佳实践。同时，Maven的插件机制也使得开发者可以对构建过程进行扩展和定制。主动触发构建，只需要简单的命令操作即可。<img data-src="https://s2.loli.net/2024/01/27/7UM6Awc5bgLVtoh.png" alt="image-20240127022938293" style="zoom:50%;" /></p>
<p>  <strong>原理：</strong><img data-src="https://s2.loli.net/2024/01/27/NTAhgYiP2lvwR3O.png" alt="image-20240127023411742" style="zoom:50%;" /></p>
<p>  <code>mvn -v</code>验证安装是否成功。额外配置JDK版本，不用它的5。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 不用默认的jdk5.0 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-17<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>17<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 在build里添加,解决自带site插件报错 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-site-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project-info-reports-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 自带的打包war插件与JDK17不匹配的话，在build里添加 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>**GroupID格式：**com.｛公司/BU｝.业务线.[子业务线]，最多4级。</p>
</li>
<li>
<p>**ArtifactID格式：**产品线名-模块名。语义不重复不遗漏，先到仓库中心去查证一下。</p>
</li>
<li>
<p>**Version版本号格式推荐：**主版本号.次版本号.修订号</p>
<ul>
<li>主版本号：当做了不兼容的API修改，或者增加了能改变产品方向的新功能</li>
<li>次版本号：当做了向下兼容的功能性新增（新增类、接口等）。</li>
<li>修订号：修复bug，没有修改方法签名的功能加强，保持API兼容性</li>
<li>例如：初始→1.0.0修改bug一→1.0.1功能调整→1.1.1等</li>
</ul>
</li>
<li>
<p>**Packaging定义规则：**指示将项目打包为什么类型的文件，idea根据packaging值，识别maven项目类型！</p>
<ul>
<li><code>packaging</code>属性为<code>jar</code>（默认值），代表普通的Java工程，打包以后是jar结尾的文件。</li>
<li><code>packaging</code>属性为<code>war</code>，代表Java的web工程，打包以后.war结尾的文件。</li>
<li><code>packaging</code>属性为<code>pom</code>，代表不会打包，用来做继承的父工程。</li>
</ul>
</li>
</ul>
<p><strong>创建web项目：</strong></p>
<ol>
<li>修改pom文件的<code>packaging</code>属性为<code>war</code>，记得重新加载；</li>
<li>在<code>src</code>文件下创建<code>webapp/WEB-INF/web.xml</code>，不同工具中的<code>webapp</code>不一样，有的叫<code>web</code>、<code>webContent</code>、<code>webRoot</code>；</li>
<li>xml文件不好写，可以用<code>JBLJavaToWeb</code>插件。</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>mvn compile</code></td>
<td style="text-align:center">编译项目，生成target文件</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn package</code></td>
<td style="text-align:center">打包项目，生成war文件</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn clean</code></td>
<td style="text-align:center">清理编译或打包后的项目结构</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn install</code></td>
<td style="text-align:center">打包后上传到maven本地仓库（本地部署）</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn deploy</code></td>
<td style="text-align:center">只打包，上传到maven私服仓库（私服部署）</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn site</code></td>
<td style="text-align:center">生成站点（报告），报错的话，pom添加site相关插件（百度）</td>
</tr>
<tr>
<td style="text-align:center"><code>mvn test</code></td>
<td style="text-align:center">执行测试源码（测试）</td>
</tr>
</tbody>
</table>
<p>记不住也没多大事，有工具辅助，在右侧状态栏。</p>
<p>**主要生命周期：**懒人操作，大部分命令会执行之前的命令</p>
<ul>
<li>
<p>清理周期：主要是对项目编译生成文件进行清理</p>
<p>包含命令：<code>clean</code></p>
</li>
<li>
<p>默认周期：定义了真正构件时所需要执行的所有步骤，它是生命周期中最核心的部分</p>
<p>包含命令：<code>compile-test-package-install/deploy</code></p>
</li>
<li>
<p>报告周期</p>
<p>包含命令：site</p>
<p>打包：<code>mvn clean package</code> 本地仓库：<code>mvn clean install</code></p>
</li>
</ul>
<p><strong>依赖管理：</strong></p>
<ul>
<li>
<p>引入 ：放<code>dependencies</code>标签里，写各种依赖。会自动下载依赖以及依赖的依赖。</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!-- maven仓库信息官网https://mvnrepository.com，可查，可直接复制 --&gt;</span></span><br><span class="line">    		<span class="comment">&lt;!-- 无法访问，可用使用插件maven search，安装好后在Tools里  --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span><span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span><span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span><span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test测试目录可用/compile任何目录可用/provided除了服务器，都可用。服务器自带，例：servlet /runtime运行时才用，例：mysql<span class="tag">&lt;/<span class="name">scope</span>&gt;</span><span class="comment">&lt;!-- 产生作用的范围 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>版本统一提取和维护</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 声明版本 --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span> </span><br><span class="line">    <span class="comment">&lt;!--命名随便，内部制定版本号即可！--&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span><span class="comment">&lt;!-- 在上面的引入里的版本处可使用$&#123;junit.version&#125; --&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--也可以通过maven规定的固定的key，配需maven的参数！如下配编码格式！ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>下载失败解决：❶检查网络；❷清理之前下载失败的仓库缓存</p>
</li>
</ul>
<p><strong>build构建插件：</strong></p>
<ul>
<li>
<p><code>&lt;finalName&gt;打包名&lt;/finalName&gt;</code></p>
</li>
<li>
<p>如果在java文件夹中添加java类，会自动打包编译到classes文件夹下。</p>
<p>但是在java文件夹中添加xml文件，默认不会被打包！</p>
<p>默认情况下，按照maven工程结构放置的文件会默认被编译和打包！</p>
<p>除此之外、我们可以使用<code>resources</code>标签，指定要打包资源的文件夹要把哪些静态资源打包到classes根自录下！</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span> <span class="comment">&lt;!-- 打包目录，只配置，则都打包 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">   		<span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span><span class="comment">&lt;!-- 包含任意层级的properties结尾的文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>依赖传递和依赖冲突</strong>：</p>
<ul>
<li>假如有Maven项自A，项自B依赖A，项目C依赖B。那么我们可以说C依赖A。也就是说，依赖的关系为：C一&gt;B一 A，那么我们执行项目C时，会自动把B、A都下载导入到C项目的jar包文件夹中，这就是依赖的传递性。</li>
<li>在A依赖B，B依赖C的前提下，C是否能够传递到A，取决于B依赖C时使用的依赖范围
<ul>
<li>B依赖C时使用comile范围：可以传递</li>
<li>B依赖C时使用test或provided范围：不能传递，所以需要这样的jar包时，就必须在需要的地方明确配置依赖才可以</li>
</ul>
</li>
<li>作用：简化依赖导入过程；确保依赖版本正确。</li>
<li>冲突时（高版本兼容低版本）：❶路径最短者优先；❷先声明者优先；❸手动排除<code>&lt;exclusions&gt; &lt;exclusion&gt;&lt;groupId&gt;org.springframeworks/grounId&gt;&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;&lt;/exclusion&gt; &lt;/exclusions&gt;</code>，直接不要了。</li>
</ul>
<p><strong>继承和聚合关系：</strong></p>
<ul>
<li>
<p>Maven继承是指在Maven的项目中，让一个项目从另一个项目中继承配置信息的机制。继承可以让我们在多个项目中共享同一配置信息，简化项目的管理和维护工作。</p>
</li>
<li>
<p>作用：在父工程中统一管理项目中的依赖信息。它的背景是：</p>
<ul>
<li>
<p>对一个比较大型的项目进行了模块拆分。</p>
</li>
<li>
<p>一个project下面，创建了很多个module。</p>
</li>
<li>
<p>每一个module都需要配置自己的依赖信息。</p>
<p>它背后的需求是：</p>
<ul>
<li>
<p>多个模块要使用同一个框架，它们应该是同一个版本，项目中使用的框架版本需要统一管理。</p>
</li>
<li>
<p>使用框架时所需要的jar包组合（或者说依赖信息组合）需要经过长期摸索和反复调试，最终确定一个可用组合。这个耗费很大精力总结出来的方案不应该在新的项目中重新摸索。</p>
<p>通过在父工程中为整个项目维护依赖信息的组合既保证了整个项目使用规范、准确的jar包；又能够将以往的经验沉淀下来，节约时间和精力。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>父工程不写代码，直接干掉src。</p>
<ul>
<li>
<p>父工程里</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 只有父工程的打包方是pom--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 罗列了子模块的内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">module</span>&gt;</span>maven-son-one<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>子工程里</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.atguigu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPsHoT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-son-one<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>继承情况：dependencies默认全部继承，如果要子工程按需继承，在父工程的<code>dependencies</code>标签外套上<code>dependencyManagement</code>，子工程自己写依赖，不需要写<code>version</code>；这种方式：父工程只做定义，不下载；子工程按需继承，按需下载。</p>
</li>
</ul>
</li>
<li>
<p>聚合：</p>
<ul>
<li>背景：各个模块相互依赖的情况下，打包时，要打包和部署父工程以及其他依赖的模块。</li>
<li>概念：Maven聚合是指将多个项目组织到一个父级项目中，工以便一起构建和管理的机制。聚合可以帮助我们更好地管理一组相关的子项目，同时简化它们的构建和部署过程。</li>
<li>作用：
<ul>
<li>管理多个子项目：通过聚合，可以将多个子项目组织在一起，方便管理和维护。</li>
<li>构建和发布一组相关的项目：通过聚合，可以在一个命令中构建和发布多个相关的项目，简化了部署和维护工作。</li>
<li>优化构建顺序：通过聚合可以对多个项目进行顺序控制，避免出现构建依赖混乱导致构建失败的情况。</li>
<li>统一管理依赖项：通过聚合，可以在父项目中管理公共依赖项和插件，避免重复定义。</li>
</ul>
</li>
<li>步骤：在父工程执行打包和部署。</li>
</ul>
</li>
</ul>
<p><strong>仓库之间的关系和优先级：</strong></p>
<p>  Maven仓库主要分为本地仓库（Local Repository）、中央仓库（Central Repository）和远程仓库（Remote Repository）三种类型。</p>
<p>  本地-&gt;私服-&gt;镜像-&gt;中央，任何环节找到了，都会在之前环节保存一份。</p>
<h2 id="spring"><a class="markdownIt-Anchor" href="#spring"></a> Spring</h2>
<h3 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h3>
<h4 id="技术体系"><a class="markdownIt-Anchor" href="#技术体系"></a> 技术体系</h4>
<ul>
<li>
<p>单一架构</p>
  <img data-src="https://s2.loli.net/2024/01/28/VT7StuZspz85Khw.png" alt="image-20240128015722738" style="zoom:50%;" />
</li>
<li>
<p>分布式架构</p>
  <img data-src="https://s2.loli.net/2024/01/28/EkTQCSVMLdl8yXv.png" alt="image-20240128020804551" style="zoom:50%;" />
</li>
</ul>
<h4 id="框架概念和理解"><a class="markdownIt-Anchor" href="#框架概念和理解"></a> 框架概念和理解</h4>
<p>  框架（Framework）是一个集成了基本结构、规范、设计模式、编程语言和程序库等基础组件的软件系统，它可以用来构建更高级别的应用程序。框架的设计和实现旨在解决特定领域中的常见问题，帮助开发人员更高效、更稳定地实现软件开发目标。</p>
<ul>
<li>提高开发效率</li>
<li>降低开发成本</li>
<li>提高应用程序的稳定性</li>
<li>提供标准化的解决方案</li>
</ul>
<p>  站在文件结构的角度理解框架，可以将框架总结：框架=jar包+配置文件</p>
<h3 id="springframework简介"><a class="markdownIt-Anchor" href="#springframework简介"></a> SpringFramework简介</h3>
<h4 id="spring和springframework"><a class="markdownIt-Anchor" href="#spring和springframework"></a> Spring和SpringFramework</h4>
<p>  广义上的Spring泛指以SpringFramewiork为基础的Spring技术栈；狭义的Spring特指SpringFramework，通常我们将它称为Spring框架。</p>
<h4 id="springframework主要功能模块"><a class="markdownIt-Anchor" href="#springframework主要功能模块"></a> SpringFramework主要功能模块</h4>
<table>
<thead>
<tr>
<th style="text-align:center">功能模块</th>
<th style="text-align:center">功能介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Core Container</td>
<td style="text-align:center">核心容器，控制反转和依赖注入</td>
</tr>
<tr>
<td style="text-align:center">AOP&amp;Aspects</td>
<td style="text-align:center">面向切面编程</td>
</tr>
<tr>
<td style="text-align:center">TX</td>
<td style="text-align:center">声明式事务管理</td>
</tr>
<tr>
<td style="text-align:center">Testing</td>
<td style="text-align:center">快速整合测试环境</td>
</tr>
<tr>
<td style="text-align:center">DataAccess/lntegration</td>
<td style="text-align:center">提供了对数据访问/集成的功能</td>
</tr>
<tr>
<td style="text-align:center">SpringMVC</td>
<td style="text-align:center">提供了面向Web应用程序的集成功能。</td>
</tr>
</tbody>
</table>
<img data-src="https://s2.loli.net/2024/01/28/iExVDUOL1fajFZH.png" alt="SpringFramework框架结构图" style="zoom:50%;" />
<h4 id="springframework主要优势"><a class="markdownIt-Anchor" href="#springframework主要优势"></a> SpringFramework主要优势</h4>
<ol>
<li>丰富的生态系统：Spring生态系统非常丰富，支持许多模块和库，如SpringBoot、SpringSecurity、Spring Cloud等等，可以帮助开发人员快速构建高可靠性的企业应用程序。</li>
<li>模块化的设计：框架组件之间的松散耦合和模块化设计使得SpringFramework具有良好的可重用性、可扩展性和可维护性。开发人员可以轻松地选择自已需要的模块，根据自已的需求进行开发。</li>
<li>简化Java开发：SpringFramework简化了Java开发，提供了各种工具和APl，可以降低开发复杂度和学习成本。同时，SpringFramework支持各种应用场景，包括Web应用程序、RESTfulAPl、消息传递、批处理等等。</li>
<li>不断创新和发展：SpringFramework开发团队一直在不断创新和发展，保持与最新技术的接轨，为开发人员提供更加先进和优秀的工具和框架。</li>
</ol>
<h3 id="springloc容器概念"><a class="markdownIt-Anchor" href="#springloc容器概念"></a> Springloc容器概念</h3>
<h4 id="组件和组件管理概念"><a class="markdownIt-Anchor" href="#组件和组件管理概念"></a> 组件和组件管理概念</h4>
<ul>
<li>
<p>什么是组件？</p>
  <img data-src="https://s2.loli.net/2024/01/28/fgSN1pd8ntBTyPq.png" alt="常规的三层架构处理请求流程" style="zoom:50%;" />
  <img data-src="https://s2.loli.net/2024/01/28/GNJ7lTmRYFcdvgK.png" alt="整个项目就是由各种组件搭建而成" style="zoom:50%;" />
</li>
<li>
<p>我们的期待？：替我们创建组件的对象、帮我们保存组件的对象、帮助我们自动组装、替我们管理事务、协助我们整合其他框架……</p>
</li>
<li>
<p>Sprin充当组件管理角色（loC）</p>
<p>组件可以完全交给Spring框架进行管理， Spring框架替代了栏 序员原有的new对象和对象属性赋值动作等。</p>
<p>Spring具体的组件管理动作包合：</p>
<ul>
<li>组件对象实例伴</li>
<li>组件属性属性赋值</li>
<li>组件对象之间引用</li>
<li>组件对象存活周期管理</li>
<li>……</li>
</ul>
</li>
</ul>
<p>  我们只需要编写元数据（配置文件）告知Spring管理娜些类组件和他们的管理即可！</p>
<p>  注意：组件是映射到应用程序中所有可重用组件的aVa对象，应该是可复用的功能对象！</p>
<ul>
<li>组件交给Spring管理优势
<ol>
<li>降低了组件之间的耦合性：Springloc容器通过依赖注入机制，将组件之间的依赖关系削弱，减少了程序组件之间的耦合性，使得组件更加松散地耦合。</li>
<li>提高了代码的可重用性和可维护性：组件的实例化过程、依赖关系的管理等功能交给Spring IoC容器处理，使得组件代码更加模块化、可重用、更易于维护。</li>
<li>方便了配置和管理：Spring IoC容器通过XML文件或者注解，轻松的对组件进行配置和管理，使得组件的切换、替换等操作更加的方便和快捷。</li>
<li>交给Spring管理的对象（组件）方可享受Spring框架的其他功能（AOP声明式事务管理）等</li>
</ol>
</li>
</ul>
<h4 id="spring-ioc容器和容器实现"><a class="markdownIt-Anchor" href="#spring-ioc容器和容器实现"></a> Spring IoC容器和容器实现</h4>
<p>  Springloc容器，负责实例化、配置和组装bean（组件）。容器通过读取配置元数据来获取有关要实例化、配置和组装组件的指令。配置元数据以XML、Java注解或Java代码形式表现。它允许表达组成应用程序的组件以及这些组件之间丰富的相互依赖关系。</p>
<p>  <code>org.springframework.beans</code>和<code>org.springframework.context</code>包是SpringFramework的loC容器的基础包。<code>BeanFactory</code>接口提供了一种高级配置机制，能够管理任何类型的对象，它是SpringIoC容器标准化超接口！<code>ApplicationContext</code>是BeanFactory的子接口。</p>
<p>  <code>ApplicationContext</code>补充：</p>
<ul>
<li>
<p>更容易与Spring的AOP功能集成</p>
</li>
<li>
<p>消息资源处理 星（用于国际化）</p>
</li>
<li>
<p>特定于应用程序给予此接口实现，例如Web应用程序的<code>WebApplicationContext</code></p>
<p>简而言之，<code>BeanFactory</code>提供了配置框架和基本功能，而 <code>ApplicationContext</code> 添加了更多特定于企业的功能。<code>ApplicationContext</code>是<code>BeanFactory</code>白 的完整超集！</p>
</li>
</ul>
<p>  <code>ApplicationContext</code>容器实现类：</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型名</th>
<th>简介</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>ClassPathXmlApplicationContext</code></td>
<td>通过读取类路径下的XML格式的配置文件创建IOC容器对象</td>
</tr>
<tr>
<td style="text-align:center"><code>FileSystemXmlApplicationContext</code></td>
<td>通过文件系统路径读取XML格式的配置文件创建IOC容器对象</td>
</tr>
<tr>
<td style="text-align:center"><code>AnnotationConfigApplicationContext</code></td>
<td>通过读取Java配置类创建IOc容器对象</td>
</tr>
<tr>
<td style="text-align:center"><code>WebApplicationContext</code></td>
<td>专门为Web应用准备，基于Web环境创建IOC容器对象，并将对象引入存入ServletContext域中。</td>
</tr>
</tbody>
</table>
<p>  Spring框架提供了多种配置方式：XML配置方式、注解方式和Java配置类方式：</p>
<ul>
<li>
<p>XML配置方式：是Spring框架最早的配置方式之一，通过在XML文件中定义Bean及其依赖关系、Bean的作用域等信息，让SpringIoC容器来管理Bean之间的依赖关系。该方式从Spring框架的第一版开始提供支持。</p>
</li>
<li>
<p>注解方式从Spring2.5版本开始提供支持，可以通过在Bean类上使用注解来代替XML配置文件中的配置信息。通过在Bean类上加上相应的注解（如@Component，@Service，@Autowired等），将Bean注册到 SpringIoC容器中，这样SpringIoC容器就可以管理这些Bean之间的依赖关系。</p>
</li>
<li>
<p>Java配置类方式：从Spring3.o版本开始提供支持，通过Java类来定义Bean、Bean之间的依赖关系和配置信息，从而代替xML配置文件的方式。Java配置类是一种使用Java编写配置信息的方式，通过@Configuration、@Bean等注解来实现Bean和依赖关系的配置。</p>
<p>配置方式的使用场景不同，为了更多体验每种方式，SSM期间，我门使用XML+注解方式为主。 SpringBoot期间，我们使用配置类+注解方式为主！</p>
</li>
</ul>
<h4 id="spring-iocdi概念总结"><a class="markdownIt-Anchor" href="#spring-iocdi概念总结"></a> Spring IoC/DI概念总结</h4>
<ul>
<li>
<p>loc容器</p>
<p>SpringloC容器，负责实例化、配置和组装bean（组件）。容器通过读取配置元数据来获取有关要实例化、配置和组装组件的指令。</p>
</li>
<li>
<p>IoC（Inversion of Control)控制反转</p>
<p>主要是针对对象的创建和调用控制而言的，也就是说，当应用程序需要使用一个对象时，不再是应用程序直接创建该对象，而是由IoC容器来创建和管理：即控制权由应用程序转移到IoC容器中，也就是“反转”了控制权。这种方式基本上是通过依赖查找的方式实现的，即IoC容器维护着构成应用程序的对象，并负责创建这些对象。</p>
</li>
<li>
<p>DI（Dependency Iniection）依赖注入</p>
<p>DI是指在组件之间传递依赖关系的过程中，将依赖关系在容器内部进行处理，这样就不必在应用程序代码中硬编码对象之间的依赖关系，实现了对象之间的解耦合。在Spring中，DI是通过XML配置文件或注解的方式实现的。它提供了三种形式的依赖注入：构造函数注入、Setter方法注入和接口注入。</p>
</li>
</ul>
<h3 id="spring-iocdi实现"><a class="markdownIt-Anchor" href="#spring-iocdi实现"></a> Spring IoC/DI实现</h3>
<h4 id="实现步骤"><a class="markdownIt-Anchor" href="#实现步骤"></a> 实现步骤</h4>
<ol>
<li>
<p><strong>配置元数据（配置）</strong></p>
<p>配置元数据，既是编写交给SpringloC容器管理组件的信息，配置方式有三种。</p>
<p>基于XML的配置元数据的基本结构：</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xmlversion=<span class="string">&quot;1.0&quot;</span>encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- ！-此处要添加一些约束，配置文件的标签并不是随意命名  --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/xMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> [<span class="attr">1</span>]<span class="attr">class</span>=<span class="string">&quot;...&quot;</span>[<span class="attr">2</span>]&gt;</span> </span><br><span class="line">        <span class="comment">&lt;!--:collaborators and configuration for this bean go here--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;...&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- collaborators andconfiguration for this bean go here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span> </span><br><span class="line">    &lt;!-more bean definitions go here--&gt; </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>SpringloC容器管理一个或多个组件。这些组件是使用你提供给容器的配置元数据（例如，以XML<code>&lt;bean/&gt;</code>定义的形式，它可用写<code>&lt;bean/&gt;</code>，也可以说写<code>&lt;bean&gt;&lt;bean/&gt;</code>）创建的。</p>
<p><code>&lt;bean/&gt;</code>标签==组件信息声明</p>
<ul>
<li><code>id</code>属性是标识单个Bean定义的字符串。</li>
<li><code>class</code>属性定义Bean的类型并使用完全限定的类名。</li>
</ul>
</li>
<li>
<p><strong>实例化IoC容器</strong></p>
<p>提供给<code>ApplicationContext</code>构造函数的位置路径是资源字符串地址，允许容器从各种外部资源（如本地文件系统、Java <code>CLASSPATH</code>等）加载配置元数据。</p>
<p>我们应该选择个合适的实现类，进行IoC容器的实例化：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context=<span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span>,<span class="string">&quot;daos.xml&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>使用容器，获取Bean(组件）</strong></p>
<p><code>ApplicationContext</code>是一个高级工厂的接口，能够维护不同bean及其依赖项的注册表。通过使用方法<code>T getBean(String name, Class&lt;T&gt; requiredType)</code>，可以检索bean的实例。</p>
<p>允许读取Bean定义并访问它们，如以下示例所示：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建ioc容器对象，指定配置文件，ioc也开始实例组件对象 </span></span><br><span class="line">ApplicationContext context=<span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;services.xml&quot;</span> <span class="string">&quot;daos.xml&quot;</span>); </span><br><span class="line"><span class="comment">//获取ioc容器的组件对象 </span></span><br><span class="line"><span class="type">PetStoreService</span> <span class="variable">service</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;petstore&quot;</span>,PetStoreService.class);</span><br><span class="line"><span class="comment">//使用组件对象 </span></span><br><span class="line">List&lt;string&gt; userList =service.getUsernameList();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="基于xml方式管理bean"><a class="markdownIt-Anchor" href="#基于xml方式管理bean"></a> 基于XML方式管理Bean</h4>
<h5 id="声明配置文件-创建容器和获取bean"><a class="markdownIt-Anchor" href="#声明配置文件-创建容器和获取bean"></a> 声明配置文件、创建容器和获取Bean</h5>
<ul>
<li>
<p>思路</p>
  <img data-src="https://s2.loli.net/2024/01/28/TktJxHShfNrZ42C.png" alt="声明配置文件和创建容器思路" style="zoom:50%;" />
</li>
<li>
<p>准备（框架的搭建一般思路 ❶创建Maven工程 ❷引入依赖（jar包） ❸编写配置文件  ❹使用核心类库测试）</p>
<ol>
<li>
<p>创建Maven工程</p>
</li>
<li>
<p>导入Springloc相关依赖</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--spring context依赖--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--当你引入SpringContext依赖之后，表示将Spring的基础依赖引入了--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--unit5测试--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>准备组件类（HappyComponent）</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HappyComponent</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HappyComponent</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;进行了构造&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doWork</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HappyComponent.doWork&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>创建spring01.xml文件</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">&quot;HappyComponent01&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyComponent&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在测试里写</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//1.基springo1.xml配置文件，创建Ioc容器</span></span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring01.xml&quot;</span>);</span><br><span class="line">    <span class="comment">//2.根据id获取Bean对象，需要强转</span></span><br><span class="line">    <span class="comment">//HappyComponent happyComponent01 = (HappyComponent)context.getBean(&quot;HappyComponent01&quot;);</span></span><br><span class="line">    <span class="comment">//2.根据类来获取Bean对象，需要类型唯一，开发常用</span></span><br><span class="line">    <span class="comment">//HappyComponent happyComponent01 = context.getBean(HappyComponent.class);</span></span><br><span class="line">    <span class="comment">//2.两种者结合获取，学习常有</span></span><br><span class="line">    <span class="type">HappyComponent</span> <span class="variable">happyComponent01</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;HappyComponent01&quot;</span>, HappyComponent.class);</span><br><span class="line">    <span class="comment">//3.使用对象</span></span><br><span class="line">    happyComponent01.doWork();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p>其他说明</p>
<ul>
<li>bean的<code>id</code>不能重复。</li>
<li>我：本质是设置配置文件，然后刷新。</li>
<li>通过反射调用无参构造方法，可通过编写无参构造验证。</li>
<li>通过id获取需要强转。</li>
<li>仅通过类获取对象，需要<code>class</code>唯一。</li>
</ul>
</li>
</ul>
<h5 id="bean属性赋值setter注入"><a class="markdownIt-Anchor" href="#bean属性赋值setter注入"></a> Bean属性赋值：setter注入</h5>
<ol>
<li>
<p>组件添加属性</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HappyComponent</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String componentName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HappyComponent</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;进行了构造&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doWork</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HappyComponent.doWork&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getComponentName</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;componentName取值&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> componentName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setComponentName</span><span class="params">(String componentName)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;componentName赋值:&quot;</span> + componentName);</span><br><span class="line">        <span class="built_in">this</span>.componentName = componentName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修改xml文件</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">&quot;HappyComponent01&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyComponent&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- set方法赋值，标签为property --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;componentName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;开心的组件&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>测试</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;happyComponent01.getComponentName() = &quot;</span> + happyComponent01.getComponentName());</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>说明</p>
<ul>
<li>在<code>property</code>里，如果<code>name</code>为属性名，者<code>value</code>仅能为8大基本类型+8大包装类型+<code>String</code></li>
<li>通过<code>property</code>进行赋值，必须提供<code>set</code>方法</li>
</ul>
</li>
</ol>
<h5 id="bean属性赋值引用其他bean"><a class="markdownIt-Anchor" href="#bean属性赋值引用其他bean"></a> Bean属性赋值：引用其他Bean</h5>
<ol>
<li>
<p>声明新组件（HappyMachine）</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HappyMachine</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String machineName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMachineName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> machineName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMachineName</span><span class="params">(String machineName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.machineName = machineName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>原组件（HappyComponent）引用新组件</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> HappyMachine happyMachine;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">public</span> HappyMachine <span class="title function_">getHappyMachine</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> happyMachine;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHappyMachine</span><span class="params">(HappyMachine happyMachine)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.happyMachine = happyMachine;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注入新组件（HappyMachine），并赋值</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">&quot;HappyComponent01&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyComponent&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- set方法赋值，标签为property --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;componentName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;开心的组件&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;happyMachine&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;HappyMachine&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;HappyMachine&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyMachine&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;machineName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;小爱同学&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>测试</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;happyComponent01.getHappyMachine() = &quot;</span> + happyComponent01.getHappyMachine());</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>说明</p>
<ul>
<li><code>ref</code>的值为<code>id</code></li>
<li>声明bean不分先后顺序，Spring容器内部有缓存机制，先实例化后属性赋值</li>
<li><code>ref</code>容易错写成<code>value</code>，会抛出Causedby:java.lang.llegalStateException:Cannot convert value of type<br />
java.lang.Stringtorequiredtype异常</li>
<li>只有声明到ioc容器，方可被其他bean引用</li>
<li>外部bean是共享的</li>
</ul>
</li>
</ol>
<h5 id="bean属性赋值内部bean声明了解"><a class="markdownIt-Anchor" href="#bean属性赋值内部bean声明了解"></a> Bean属性赋值：内部Bean声明（了解）</h5>
<ol>
<li>
<p>声明内部bean配置</p>
<p>在bean里面配置的bean就是内部bean，内部bean只能在当前bean内部使用，在其他地方不能使用。<br />
不会在ioc容器中，实例和存储内部bean，<span style="color:#CC00CC;">只会缓存类信息，每次获取的时候再实例化！！</span></p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">&quot;HappyComponent02&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyComponent&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- set方法赋值，标签为property --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;componentName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;开心的组件&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;happyMachine&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyMachine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;machineName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;小艺&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>说明</p>
<ul>
<li><code>property</code>标签也是有两种写法</li>
</ul>
</li>
</ol>
<h5 id="bean属性赋值集合类型赋值"><a class="markdownIt-Anchor" href="#bean属性赋值集合类型赋值"></a> Bean属性赋值：集合类型赋值</h5>
<ol>
<li>
<p>组件里声明集合</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;String&gt; stringList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getStringList</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> stringList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStringList</span><span class="params">(List&lt;String&gt; stringList)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.stringList = stringList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>xml文件里赋值</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;HappyComponent02&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.pojo.HappyComponent&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;happyMachine&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;HappyMachine&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;componentName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;开心的组件&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stringList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>头<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>手<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>脚<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>身体<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>说明</p>
<ul>
<li>同理，<code>set</code>、<code>map</code>，在<code>property</code>里写相应的标签</li>
<li>除<code>map</code>标签外，里面都是<code>value</code>标签</li>
<li><code>map</code>标签里是<code>entry</code>标签，<code>entry</code>标签里面是<code>key</code>和<code>value</code>，引用类型包含在<code>entry</code>标签里，<code>String</code>类型可直接写在<code>entry</code>标签上</li>
<li><code>entry</code>标签也可以写两种方式</li>
<li>Properties对于xml里的标签是<code>&lt;props&gt;&lt;/props&gt;</code></li>
<li>数组对于xml里的标签是<code>&lt;arpay&gt;&lt;/array&gt;</code></li>
</ul>
</li>
</ol>
<h5 id="bean属性赋值引入外部properties配置参数"><a class="markdownIt-Anchor" href="#bean属性赋值引入外部properties配置参数"></a> Bean属性赋值：引入外部Properties配置参数</h5>
<p>  例子是将Druid（德鲁伊）连接池对象交给Spring的loC容器管理！</p>
<ol>
<li>
<p>添加数据库依赖，放到需要的模块里就可以了</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>一个Druid使用的老方法</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DruidDataSource dataSource=<span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">dataSource.setDriverclassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">datasource.seturl(<span class="string">&quot;jdbc:mysql://localhost:3306/blog&quot;</span>);</span><br><span class="line">datasource.setusername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">dataSource.setPassword(<span class="string">&quot;atguigu&quot;</span>);</span><br><span class="line"></span><br><span class="line">DruidPooledConnection connection= dataSource.getConnection();</span><br><span class="line">System.out.println(<span class="string">&quot;connection =&quot;</span> + connection);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在xml里配置</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/book&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面的方式还是有点死，接下来改进。</p>
<p>创建Resource Bundle，名字取db.properties。不加前缀的话，会使用电脑当前用户去连接数据库。</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driverclassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/book</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure>
<p>配置xml</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties&quot;</span>/&gt;</span><span class="comment">&lt;!-- 前面面不用自己全写，根据提示回车，idea会帮助添加约束 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverclassName&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring01.xml&quot;</span>);</span><br><span class="line"><span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;dataSource&quot;</span>, DruidDataSource.class);</span><br><span class="line"><span class="type">DruidPooledConnection</span> <span class="variable">connection</span> <span class="operator">=</span> dataSource.getConnection();</span><br><span class="line">System.out.println(<span class="string">&quot;connection = &quot;</span> + connection);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="高级特性factorybean特性"><a class="markdownIt-Anchor" href="#高级特性factorybean特性"></a> 高级特性：FactoryBean特性</h5>
<p>  <code>FactoryBean</code>接口是SpringIoC容器实例化逻辑的可插拔性特点。用于配置复杂的Bean对象，可以将创建过程存储在<code>FactoryBean</code>的<code>getObject</code>方法。<code>FactoryBean&lt;T&gt;</code>接口提供三种方法：</p>
<ul>
<li><code>T getObject()</code>：返回此工厂创建的对象的实例。该返回值会被存储到IoC容器</li>
<li><code>boolean isSingleton()</code>：如果此<code>FactoryBean</code>返回单例，则返回true，否则返回false。此方法的默认实现返回true（注意，lombok插件使用，可能影响效果）。</li>
<li><code>Class&lt;?&gt; getObjectType()</code>：返回<code>getObject()</code>方法返回的对象类型，如果事先不知道类型，则返回<code>null</code>。</li>
</ul>
<p>  例如，<code>Connection</code>对象的创建，我们通过<code>class.forName(&quot;com.mysgl.ci.idbc.Driyer&quot;);Connection connection =DriverManager.getConnection(url,user,password);</code>，它和一般的对象创建不一样。</p>
<p>  注意：我们从<code>getConnection</code>点进去，我们可以发现返回值上有括号，例如<code>return (con);</code>我不明白括号有什么用。</p>
<p>  让Spring创建Connection对象：</p>
<ol>
<li>
<p>新建包factory，创建一个类，实现<code>FactoryBean</code>接口</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConnectionFactoryBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;Connection&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最终生产的对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Connection <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(<span class="string">&quot;jdbc:mysql://localhost:3306/book&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//生产的对象的类型</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> Connection.class;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//生产的对象是否为单例</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置xml</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;connection&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.xml.factory.ConnectionFactoryBean&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>测试</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring01.xml&quot;</span>);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;connection&quot;</span>, Connection.class);</span><br><span class="line">System.out.println(<span class="string">&quot;connection = &quot;</span> + connection);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>说明</p>
</li>
</ol>
<p>  显然，直觉会让你在实现时用<code>BeanFactory</code>，然而<code>FactoryBean</code>和<code>BeanFactory</code>是有区别的。</p>
<p>  **<code>FactoryBean</code>**是Spring中一种特殊的bean，可以在<code>getObject</code>工厂方法自定义的逻辑创建Bean！是一种能够生产其他Bean的Bean。<code>FactoryBean</code>在容器启动时被创建，而在实际使用时则是通过调用<code>getObject</code>方法来得到某所生产的Bean。因此，FactoryBean可以自定义任何所需的初始化逻辑，生产出一些定制化的bean。</p>
<p>  一般情况下，整合第三方框架，都是通过定义FactoryBean实现！！！</p>
<p>  **<code>BeanFactory</code>**是Spring框架的基础，其作为一个顶级接口定义了容器的基本行为，例如管理bean的生命周期、配置文件的加载和解析、bean的装配和依赖注入等。<code>BeanFactory</code>接口提供了访问bean的方式，例<code>getBean</code>方法获取指定的bean实例。它可以从不同的来源（例如Mysgl数据库、XML文件、Java配置类等）获取bean定义，并将其转换为bean实例。同时，<code>BeanFactory</code>还包含很多子类（例如ApplicationContext接口）提供了额外的强大功能。</p>
<p>  总的来说，<code>FactoryBean</code>和<code>BeanFactory</code>的区别主要在于前者是用于创建bean的接口，它提供了更加灵活的初始化定制功能；而后者是用于管理bean的框架基础接口，提供了基本的容器功能和bean生命周期管理。</p>
<h5 id="高级特性bean的作用域"><a class="markdownIt-Anchor" href="#高级特性bean的作用域"></a> 高级特性：Bean的作用域</h5>
<p>  <code>bean</code>标签声明Bean，只是将Bean的信息配置给SpringIoC容器。在Ioc容器中，这些<code>bean</code>标签对应的Spring内部<code>BeanDefinition</code> 对象，<code>BeanDefinition</code> 对象内，包含定义的信息（id,class,属性等等）！这意味着，<code>BeanDefinition</code>与类概念一样，SpringIoC容器可以可以根据<code>BeanDefinition</code>对象反射创建多个Bean对象实例。具体创建多少个Bean的实例对象，由Bean的作用域scope属性指定。默认情况：全局只需要实例化一个Bean对象，绝大情况我们也仅需创建一个对象！</p>
<table>
<thead>
<tr>
<th style="text-align:center">取值</th>
<th>含义</th>
<th>创建对象的时机</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>singleton</code></td>
<td>在IOC容器中，这个bean的对象始终为单实例</td>
<td>IoC容器初始化时</td>
<td>是</td>
</tr>
<tr>
<td style="text-align:center"><code>prototype</code></td>
<td>这个bean在IoC容器中有多个实例</td>
<td>获取bean时</td>
<td>否</td>
</tr>
<tr>
<td style="text-align:center">如果是在WebApplicationcontext环境下还会有另外两个作用域（但不常用）</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:center"><code>request</code></td>
<td>请求范围内有效的实例</td>
<td>每次请求</td>
<td>否</td>
</tr>
<tr>
<td style="text-align:center"><code>session</code></td>
<td>会话范围内有效的实例</td>
<td>每次会话</td>
<td>否</td>
</tr>
</tbody>
</table>
<h5 id="高级特性bean的生命周期此处比较简略"><a class="markdownIt-Anchor" href="#高级特性bean的生命周期此处比较简略"></a> 高级特性：Bean的生命周期（此处比较简略）</h5>
<p>  SpringFramework的Bean生命周期是指一个Bean对象从它的创建、初始化到销毁的整个过程。初始化方法用<code>init-method</code>属性指定。销毁方法由<code>destroy-method</code>指定。初始化在<code>set</code>方法之后。<code>ApplicationContext</code>不具备关闭能力，<code>ConfigurableApplicationdontext</code>具备关闭能力。实现<code>BeanPostProcessor</code>接口，可以做到在初始化之前和之后执行一些需要的步骤（后置处理器的前置方法、后置处理器的后者置方法），将它放到容器了，对所有bean都将起效果，相当于统一处理和过滤。</p>
<h4 id="基于注解方式管理bean"><a class="markdownIt-Anchor" href="#基于注解方式管理bean"></a> 基于注解方式管理Bean</h4>
<h5 id="bean注解标记和扫描ioc"><a class="markdownIt-Anchor" href="#bean注解标记和扫描ioc"></a> Bean注解标记和扫描（Ioc）</h5>
<p>  和XML配置文件一样，注解本身并不能执行，注解本身仅仅只是做一个标记，具体的功能是框架检测到注解标记的位置，然后针对这个位置按照注解标记的功能来执行具体操作。本质上：所有一切的操作都是Java代码来完成的，XML和注解只是告诉框架中的Java代码如何执行。</p>
<p>  Spring为了知道程序员在哪些地方标记了什么注解，就需要通过扫描的方式，来进行检测。然后根据注解进行后续操作。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring.xml.dao.impl.UserDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring.xml.service.impl.UserServiceImpl&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span><span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userController&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.spring.xml.controller.UserController&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userService&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UserDaouserDao =ioc.qetBean(<span class="string">&quot;userDao&quot;</span>,UserDao.class);</span><br><span class="line"><span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span>ioc.getBean(<span class="string">&quot;userService&quot;</span>,Userservice.class);</span><br><span class="line"><span class="type">UserController</span> <span class="variable">userController</span> <span class="operator">=</span> ioc.qetBean(<span class="string">&quot;userController&quot;</span>,UserController.class);</span><br></pre></td></tr></table></figure>
<p>  以前，在service里调用dao是写死的，当要更换时要修改。现在可以写上<code>set</code>方法，在xml里进行属性配置，将赋值dao交给Spring。当项目庞大时，xml方式就有些捉襟见肘了。</p>
<table>
<thead>
<tr>
<th style="text-align:center">注解</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>@Component</code></td>
<td>该注解用于描述Spring中的Bean，它是一个泛化的概念，仅仅表示容器中的一个组件（Bean），并且可以作用在应用的任何层次，例如Service层、Dao层等。使用时只需将该注解标注在相应类上即可。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Repository</code>仓库</td>
<td>该注解用于将数据访问层（Dao层-&gt;Mapper-&gt;biz）的类标识为Spring中的Bean，其功能与<code>@Component</code>相同</td>
</tr>
<tr>
<td style="text-align:center"><code>@Service</code></td>
<td>该注解通常作用在业务层（Service层）用于将业务层的类标识为Spring中的Bean，其功能与<code>@Component</code>相同。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Controller</code></td>
<td>该注解通常作用在控制层（如SpringMVC的Controller），用于将控制层的类标识为Spring中的Bean，其功能与<code>@Component</code>相同。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Configuration</code></td>
<td>标志为配置类</td>
</tr>
</tbody>
</table>
<p>  现在已经标记了，需要告诉Spring哪里有标记了。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.spring.anno&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;arnotation注解&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller注解&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  使用<code>context:component-scan</code>标记可以在指定的包下扫描，包含子包。以前在xml里配置了id和class，现在怎么getBean呢？名字用类名的首字母小写（也可以对<code>value</code>属性赋值改名，只赋值<code>value安全</code>可忽略属性名。），class用<code>类.class</code>。排除和包含（只扫某某，则需将<code>use-default-filters</code>属性改为<code>false</code>）用子标签，选择合适的<code>type</code>和<code>expression</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ioc.getBean(<span class="string">&quot;userController类名首字母小写&quot;</span>,UserController.class);</span><br></pre></td></tr></table></figure>
<h5 id="bean属性赋值引用类型自动装配di"><a class="markdownIt-Anchor" href="#bean属性赋值引用类型自动装配di"></a> Bean属性赋值：引用类型自动装配（DI）</h5>
<p>  前面已经通过注解将bean放到容器里了，但还需要进行属性赋值。注意参与自动装配的组件（需要装配、被装配） 全部都必须在loc容器中。在成员变量（set方法、构造方法）上自接标记<code>@Autowired</code>注解即可，不需要提供set方法。</p>
<p>  <code>@Autowired</code>先按照类型进行寻找，再找按照名字进行寻找。如果类型一样，可以用<code>@Qualifier</code>指定名字，不过不能单独使用，和<code>@Autowired</code>一起使用。另外<code>@Autowired</code>还有一个属性<code>required=false</code>，表示能装就装。</p>
<p>  假设要装配Dao，但是容器里一个都没有，会报错，<code>至少一个和Autowired(required=true）</code>；当把<code>required=true</code>改为<code>required=false</code>后，报空指针异常。</p>
<p>  <code>@Resource</code>和<code>@Autowired</code>都可以自动注入，但注入方式是相反的，<span style="background:#00CC66;">而且<code>@Resource</code>是JDK的。</span>JDK还有其他的注解，比如一下一些我没记住的。8之后，要使用部分注解还有额外添加依赖。小细节：<code>@Resource</code>在idea不显示小白线</p>
<table>
<thead>
<tr>
<th style="text-align:center">注解</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>@SuppressWarnings</code></td>
<td>抑制编译时产生的警告消息。</td>
</tr>
<tr>
<td style="text-align:center"><code>@SafeVarargs</code></td>
<td>标识一个有安全性警告的可变参数方法。</td>
</tr>
<tr>
<td style="text-align:center"><code>@PostConstruct</code></td>
<td>标识一个方法作为初始化方法。</td>
</tr>
<tr>
<td style="text-align:center"><code>@PreDestroy</code></td>
<td>标识一个方法作为销毁方法。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Resource.AuthenticationType</code></td>
<td>标识注入的资源的身份验证类型。</td>
</tr>
<tr>
<td style="text-align:center"><s><code>@Resource.AuthenticationName</code></s></td>
<td>标识注入的资源的默认名称。</td>
</tr>
<tr>
<td style="text-align:center"><code>@SupportedAnnotationTypes</code></td>
<td>标识注解处理器所处理的注解类型。</td>
</tr>
<tr>
<td style="text-align:center"><code>@SupportedSourceVersion</code></td>
<td>标识注解处理器支持的Java源码版本。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Named</code></td>
<td>标识一个被依赖注入的组件的名称。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Inject</code></td>
<td>标识一个需要被注入的依赖组件。</td>
</tr>
<tr>
<td style="text-align:center"><code>@Singleton</code></td>
<td>标识一个组件的生命周期只有一个唯一的实例。</td>
</tr>
<tr>
<td style="text-align:center"><code>@RolesAllowed</code></td>
<td>标识授权角色。</td>
</tr>
<tr>
<td style="text-align:center"><code>@PermitAll</code></td>
<td>活动无需进行身份验证。</td>
</tr>
<tr>
<td style="text-align:center"><code>@DenyAll</code></td>
<td>标识不提供针对该方法的访问控制。</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td></td>
</tr>
</tbody>
</table>
<h5 id="bean属性赋值基本类型属性赋值di"><a class="markdownIt-Anchor" href="#bean属性赋值基本类型属性赋值di"></a> Bean属性赋值：基本类型属性赋值(DI）</h5>
<p>  <code>@Value</code>通常用于注入外部化属性，因为容器一启动，就已经有值了，且不能改变。先简单写一个properties文件和配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConfigProperties</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;config.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;config.age:100&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  在xml里引入properties文件。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:config.properties&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>  <code>@Value(&quot;$&#123;config.age:100&#125;&quot;)</code>如果没有写<code>:100</code>，当找不到时，就会使用100作为默认值。</p>
<h4 id="基于配置类方式管理bean"><a class="markdownIt-Anchor" href="#基于配置类方式管理bean"></a> 基于配置类方式管理Bean</h4>
<p>  Spring完全注解配置（FullyAnnotation-basedConfiguration）是指通过Java配置类代码来配置Spring应用程序使用注解采替代原本在XML配置件中的配置。相对于XML配置，完全注解配置具有更强的类型安全性和更好的可读性。</p>
<p>  创建配置类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span><span class="comment">//表明配置，加入容器</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.atguigu.spring.allanno&quot;)</span><span class="comment">//扫描的包</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:config.properties&quot;)</span><span class="comment">//导入的外部资源</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  说明：<code>@ComponentScan</code>和<code>@PropertySource</code>都有带<code>s</code>的，可以写多个<code>ComponentScan</code>和<code>PropertySource</code>。其中<code>@ComponentScan</code>接收数组，内部的<code>basePackages</code>有别名<code>value</code>。在上面的代码块中，只写了一个包，所以省略了许多。</p>
<p>  扫描和外部资源已经可以实现了，现在实现配置bean，例子：将Druid连接池对象存储到IoC容器。（使用<code>@Bean</code>注解）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.atguigu.spring.allanno&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&#123;&quot;classpath:config.properties&quot;,&quot;classpath:db.properties&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Value(&quot;$&#123;jdbc.driverclassName&#125;&quot;)</span></span><br><span class="line"><span class="comment">//    private String driverClassName;</span></span><br><span class="line"><span class="comment">//    @Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line"><span class="comment">//    private String url;</span></span><br><span class="line"><span class="comment">//    @Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line"><span class="comment">//    private String userName;</span></span><br><span class="line"><span class="comment">//    @Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line"><span class="comment">//    private String password;</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Scope(scopeName = ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line">    <span class="keyword">public</span> DruidDataSource <span class="title function_">dataSource</span><span class="params">(<span class="meta">@Value(&quot;$&#123;jdbc.driverclassName&#125;&quot;)</span>String driverClassName,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span>String url,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span>String userName,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span>String password)</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(driverClassName);</span><br><span class="line">        dataSource.setUrl(url);</span><br><span class="line">        dataSource.setUsername(userName);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">    <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;dataSource&quot;</span>, DataSource.class);</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> dataSource.getConnection();</span><br><span class="line">    System.out.println(<span class="string">&quot;connection = &quot;</span> + connection);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  说明：<code>@Bean</code>返回值类型即为class，方法名即为id。如果不满意id，可以自己取，可以取多个。如果不喜欢属性变量被其它使用，可将其写在方法参数列表里，就像SpringMVC那样。bean的属性有scope，可以用注解<code>@Scope(scopeName = ConfigurableBeanFactory.SCOPE_PROTOTYPE)</code>表示，可见有些值Spring提供了，不用写魔法值。初始化和销毁方法可以在<code>@Bean</code>注解里指示属性<code>initMethod</code>和<code>destroyMethod</code>。</p>
<p>  之前用xml时，配置bean时可以引用其他bean。配置类怎么实现呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> HappyMachine <span class="title function_">happyMachine</span><span class="params">()</span>&#123;</span><br><span class="line">	HappyMachine happyMachine=<span class="keyword">new</span> <span class="title class_">HappyMachine</span>();</span><br><span class="line">	happyMachine.setMachineName(<span class="string">&quot;小爱同学&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> happyMachine;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> HappyComponent <span class="title function_">happyComponent</span><span class="params">(HappyMachine happyMachine)</span>&#123;</span><br><span class="line">    HappyComponent happyComponent= <span class="keyword">new</span> <span class="title class_">HappyComponent</span>();</span><br><span class="line">	happyComponent.setHappyMachine(happyMachine);</span><br><span class="line">	<span class="keyword">return</span> happyComponent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>  以后配置类肯定不止一个。在总的配置类里添加<code>@Import（class）</code>，在低版本（4），被导入类必须添加<code>@Configuration</code>注解；高版本可省略，相当于自动添加<code>@Configuration</code>。</p>
<p>  有时不是所有的bean要立马注入。<code>@Conditional</code>是Spring4新提供的注解， 能够根据一定的条件进行判断，满足条件就给容器注入bean。可以放到类和方法上。传入一个实现了<code>Condition</code>接口的类。这个接口是一个断言接口<code>boolean matches(Condition Contextcontext,AnnotatedTypeMetadata metadata);</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConditional</span> <span class="keyword">implements</span> <span class="title class_">Condition</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">matches</span><span class="params">(ConditionContext context, AnnotatedTypeMetadata metadata)</span> &#123;</span><br><span class="line">        <span class="comment">//获取ioc使用的beanFactory</span></span><br><span class="line">        <span class="type">ConfigurableListableBeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> context.getBeanFactory();</span><br><span class="line">        <span class="comment">//获取类加载器</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> context.getClassLoader();</span><br><span class="line">        <span class="comment">//获取bean定义的注册类</span></span><br><span class="line">        <span class="type">BeanDefinitionRegistry</span> <span class="variable">registry</span> <span class="operator">=</span> context.getRegistry();</span><br><span class="line">        <span class="comment">//获取当前环境信息</span></span><br><span class="line">        <span class="type">Environment</span> <span class="variable">environment</span> <span class="operator">=</span> context.getEnvironment();</span><br><span class="line">        <span class="type">String</span> <span class="variable">osName</span> <span class="operator">=</span> environment.getProperty(<span class="string">&quot;os.name&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> osName.contains(<span class="string">&quot;Windows&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="三种方式的配置总结"><a class="markdownIt-Anchor" href="#三种方式的配置总结"></a> 三种方式的配置总结</h4>
<p>  <strong>XML方式：</strong></p>
<ul>
<li>所有内容写到xml格式配置文件中</li>
<li>声明bean通过bean标签</li>
<li>&lt;bean标签包含基本信息（id,class）和属性信息property name value/ref</li>
<li>引入外部的properties文件可以通过context:property-placeholder</li>
<li>loC具体容器实现选择ClassPathXmlApplicationContext对象</li>
</ul>
<p>  <strong>XML+注解方式：</strong></p>
<ul>
<li>注解负责标记loc的类和进行属性装配</li>
<li>xml文件依然需要，需要通过&lt;context:com nponent-scan标签指定注解范围</li>
<li>标记loC注解：@Component @Service @Controller @Repository</li>
<li>标记Dl注解：@Autowired @Qualifier @Resource @Value</li>
<li>loc具体容器实现选择ClassPathXmlApplicationContext对象</li>
</ul>
<p>  <strong>完全注解方式：</strong></p>
<ul>
<li>完全注解方式指的是去掉xml文件，使用配置类+注解实现</li>
<li>xml文件替换成使用@Configuration注解标记的类</li>
<li>标记loC注解：@Component @Service @Controller @Repository</li>
<li>标记Di注解：@Autowired @Qualifier @Resource @Value</li>
<li>&lt;context:component-scan标签指定注解范围使用@ComponentScan(basePackages = {“com.atguigu.components”})替代</li>
<li>&lt;context:property-placeholder引入外部配置文件使用@PropertySource({“classpath:application.properties”,“classpath:jdbc.properties”})替代</li>
</ul>
<h4 id="轻松测试配置"><a class="markdownIt-Anchor" href="#轻松测试配置"></a> 轻松测试配置</h4>
<p>  好处：不需要自己创建IOC容器对象了；任何需要的bean都可以在测试类中直接享受自动装配。</p>
<p>  导入依赖：junit-jupiter-api和spring-test</p>
<p>  使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringJUnitConfig(locations=&#123;&quot;classpath:spring-context.xml&quot;&#125;)</span> <span class="comment">//指定配置文件xml</span></span><br><span class="line"><span class="meta">@SpringJUnitConfig(value=&#123;BeanConfig.class&#125;)</span> <span class="comment">//指定配置类</span></span><br></pre></td></tr></table></figure>
<h3 id="spring-aop面向切面编程"><a class="markdownIt-Anchor" href="#spring-aop面向切面编程"></a> Spring AOP面向切面编程</h3>
<ul>
<li>OOP：Object Orinted Programming：面向对象编程，封装、继承、多态
<ul>
<li>继承强调的是纵向的扩展</li>
</ul>
</li>
<li>Aspect Orinted Programming：面向切面编程
<ul>
<li>对OOP作了一种补充</li>
<li>横切强调的是横向的扩展</li>
<li>代理设计模式</li>
</ul>
</li>
</ul>
<p>  比如，大量的方法要用类似的日志，可以使用代理模式（静态代理、动态代理）。</p>
<p>  动态代理技术分类：JDK动态代理、cglib。</p>
<ul>
<li>
<p>JDK动态代理：JDK原生的实现方式，需要被代理的目标类<strong>必须实现接口</strong>，他会根据目标类的接口动态生成一个代理对象！代理对象和目标对象有相同的接口！（拜把子）</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyFactory</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProxyFactory</span><span class="params">(T target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getProxy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//参数目标类的类加载器 目标类实现的所有接口！代理对象要执行的代码过程</span></span><br><span class="line">        <span class="type">T</span> <span class="variable">proxy</span> <span class="operator">=</span> (T)Proxy.newProxyInstance(target.getClass().getClassLoader(),</span><br><span class="line">                target.getClass().getInterfaces(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">MyInvocationHandler</span>());</span><br><span class="line">        <span class="keyword">return</span> proxy;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span>  <span class="title class_">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span>&#123;</span><br><span class="line">        <span class="comment">//Method目标对象的方法 args目标方法的参数</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">            System.out.println(method.getName() + <span class="string">&quot;方法执行了，入参是&quot;</span> + Arrays.toString(args));</span><br><span class="line">            <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">            System.out.println(method.getName() + <span class="string">&quot;方法执行结束了，出参是&quot;</span> + result);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用方式是首先你有一个接口，有一个这个接口的实现类，将这个类的对象传入代理工厂，通过工厂获取代理对象，代理对象执行自己要执行的方法就行。</p>
</li>
<li>
<p>cglib：通过继承被代理的目标类实现代理，所以不需要自标类实现接口！ （认干爹）</p>
</li>
</ul>
<p>  通过上面的例子，发现代理需要自己编写代理工厂。</p>
<p>  AOP思想主要的应用场景：日志记录、事务处理、安全控制、性能监控、异常处理、缓存控制、动态代理。</p>
<p>  SpringAOP框架，基于AOP编程思维，封装动态代理技术，简化动态代理技术实现的框架。</p>
<img data-src="https://s2.loli.net/2024/02/12/B9VpyvojSPCKz6W.png" alt="Spring基于注解的AOP" style="zoom:50%;" />
<p>注解层：AspectJ：早期的AOP实现的框架，SpringAOP借用了AspectJ中的AOP注解。导入spring-aspects。</p>
<p>实现层：spring-aop：不用直接导，在context 里自带。</p>
<p>  在前面，有一个接口和一个实现该接口的类。以简单日志切入为例子。新建一个切面类，<span style="color:#CC0000;">必须以<code>Aspect</code>结尾，并使用<code>@Aspect</code>注解。</span>当让要使spring管理，要加到容器里，所以需要<code>@Component</code>。要切入，则需要知道切入点。对于一个方法，显然有方法执行前、方法执行后、方法正确执行、方法异常执行，对应的注解是 <code>@Before</code>、<code>@After</code>、<code>@AfterReturning</code>、<code>@AfterThrowing</code>（所在的方法可叫做通知Advice，前置、后置等等），对应的主要参数是切入点表达式<code>execution(public void com.atguigu.aop.AImpl.*())</code>，包含了切入方法的权限修饰符、方法返回值类型，包路径+类名+方法名+参数，有一种声明方法的感觉。在正确执行后，可以通过<code>returning</code>属性指定返回值名，并在切入点方法里声明同样名字的参数。在异常执行时，可以通过<code>throwing</code>属性指定异常变量名，并在方法里声明同样名字的参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="comment">//切入点表达式：方法修饰符 返回值类型 包名路径和类名.方法名(参数)</span></span><br><span class="line">    <span class="meta">@Before(&quot;execution(public void com.atguigu.aop.AImpl.*())&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beforeAdvice</span><span class="params">(JoinPoint joinPoint)</span>&#123;</span><br><span class="line">        <span class="comment">//joinPoint代表的就是切入的方法。</span></span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getArgs() = &quot;</span> + Arrays.toString(joinPoint.getArgs()));</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getKind() = &quot;</span> + joinPoint.getKind());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSignature() = &quot;</span> + joinPoint.getSignature());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSignature().getDeclaringType() = &quot;</span> + joinPoint.getSignature().getDeclaringType());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSignature().getDeclaringTypeName() = &quot;</span> + joinPoint.getSignature().getDeclaringTypeName());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSignature().getModifiers() = &quot;</span> + joinPoint.getSignature().getModifiers());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSignature().getName() = &quot;</span> + joinPoint.getSignature().getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getSourceLocation() = &quot;</span> + joinPoint.getSourceLocation());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getStaticPart() = &quot;</span> + joinPoint.getStaticPart());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getTarget() = &quot;</span> + joinPoint.getTarget());</span><br><span class="line">        System.out.println(<span class="string">&quot;joinPoint.getThis() = &quot;</span> + joinPoint.getThis());</span><br><span class="line">        System.out.println(<span class="string">&quot;前置通知执行了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After(&quot;execution(public void com.atguigu.aop.AImpl.*())&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterAdvice</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;后置通知执行了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方法正确执行后，正确返回结果，执行该通知。在后置之前。</span></span><br><span class="line">    <span class="comment">//不管有没有异常，前置和后置都会执行。</span></span><br><span class="line">    <span class="comment">//出现异常，AfterReturning不执行</span></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;execution(public void com.atguigu.aop.AImpl.*())&quot;, returning = &quot;result&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterReturning</span><span class="params">(JoinPoint joinPoint,Object result)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">        System.out.println(<span class="string">&quot;正确执行通知执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//在后置之前，异常发生时</span></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;execution(public void com.atguigu.aop.AImpl.*())&quot;,throwing = &quot;exception&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterThrowing</span><span class="params">(Exception exception)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;exception.getMessage() = &quot;</span> + exception.getMessage());</span><br><span class="line">        System.out.println(<span class="string">&quot;异常通知执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <code>@Before</code>在方法执行前、<code>@After</code>方法执行结束后、<code>@AfterReturning</code>方法正确执行拿到返回值，在结束前、<code>@AfterThrowing</code>方法异常时，且在在结束前。</p>
<p><strong>说明：</strong></p>
<ul>
<li>
<p>切入点表达式里，权限修饰符和返回值类型可以用<span style="color:#FF0000;">一个</span><code>*</code>表示，也可<span style="color:#FF0000;">单独返回值</span>类型用<code>*</code>表示</p>
</li>
<li>
<p>包路径可固定写，也可将某一层用<code>*</code>表示，也可以用<code>com..</code>表示com下所有层，也可用<code>*..</code>表示所有层</p>
</li>
<li>
<p>类名可用<code>*</code>表示，类名的部分也可用<code>*</code>表示，<code>*..*</code>表示任意包任意类</p>
</li>
<li>
<p>方法名也用类名的规则</p>
</li>
<li>
<p>参数没有用空括号表示，参数是有序的，任意参数用<code>(..)</code>表示，也可组合部分任意</p>
</li>
<li>
<p>切入点表达式重用，写一个空方法，在上面用<code>@Pointcut</code>注解，将切入点表达式作为属性，其他地方调用就是直接将原先的表达式换做方法名+括号。支持跨类调用，例：<code>@Before(&quot;包.类.方法名&quot;)</code>，因此可单独写一个类来写切入点表达式。</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pointcut(&quot;execution(*  *..AImpl.*())&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pointCut</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@After(&quot;pointCut()&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterAdvice</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  <code>JoinPoint</code>接口可以获取方法签名、传入的实参等信息，使用时，需要在切入方法参数里声明。</p>
<p>  还有一个通知，包括了前4种的功能，对应try…catch…finally结构。<code>@Around</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Around(&quot;execution(*  *..AImpl.*())&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">aroundAdvice</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;前置通知执行了&quot;</span>);</span><br><span class="line">        <span class="comment">//执行目标方法</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> proceedingJoinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;正确执行通知执行&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;异常通知执行&quot;</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;后置通知执行了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>  当有多个切面时（字母顺序），通过<code>@Order</code>注解调整优先级，默认为最大值，越小优先级越大。</p>
<p>  简单了解一下用xml实现aop。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    创建目标类对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;a&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.aop.AImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    创建切面类对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;logAspect&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.aop.anno.LogAspect&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    aop配置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        共用切入点表达式--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pc&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* *..AImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;logAspect&quot;</span> <span class="attr">order</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;beforeAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pc&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;afterAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pc&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;afterReturning&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pc&quot;</span> <span class="attr">returning</span>=<span class="string">&quot;result&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;afterThrowing&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pc&quot;</span> <span class="attr">throwing</span>=<span class="string">&quot;exception&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;aroundAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pc&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="spring声明式事务"><a class="markdownIt-Anchor" href="#spring声明式事务"></a> Spring声明式事务</h3>
<ul>
<li>概念：是一个原子操作，是一个最小的执行单元。</li>
<li>四大特性：
<ul>
<li>A：原子性：表示事务是一个整体，要么都成功，要么都失败</li>
<li>C：一致性：数据要么是事务成功之后的状态，要么是回滚到之前的状态</li>
<li>I：隔离性：多个事务并行时，事务之间互不干扰。A事务只能读取A事务修改之前或修改之后的数据。同<br />
时，B事务所做的操作对A不产生影响</li>
<li>D：持久性：事务提交了，对数据库的数据产生的影响是永久性的</li>
</ul>
</li>
<li>MySQL的四大隔离级别：
<ul>
<li>读未提交：A事务可以读取到B事务已修改但未提交的数据。</li>
<li>读已提交：A事务可以读取到B事务已修改且已提交的数据。未提交的，读取不到。</li>
<li>可重复读（<span style="color:#FF007F;">MySQL的默认隔离级别</span>）：A事务只能读取A事务开始之后的数据，不会被其他事务所影响。</li>
<li>串行化：A事务操作时，其他事务均不可操作。加锁：表锁、行锁、列锁。</li>
</ul>
</li>
<li>JDBC中如何操作事务
<ol>
<li>关闭当前连接的自动提交：<code>connection.setAutocommit（false）</code></li>
<li>提交事务：<code>connection.commit()</code></li>
<li>回滚事务：<code>connection.rollback(）</code></li>
</ol>
</li>
<li>Spring认为事务是一种非核心功能。站在核心功能的角度，事务就属于非核心功能</li>
<li>Spring支持两种事务
<ul>
<li>编程式事务：事务的代码和业务的核心代码，写在一起，事务靠编码实现（耦合度高、代码分散、冗余，不利于维护）</li>
<li>声明式事务：完全利用AOP的思想，前置、返回、异常通知（解决了编程式事务的问题，仅需要一个注解，剩余的工作内容全权交由Spring处理）</li>
</ul>
</li>
</ul>
<h4 id="jdbctemplate使用"><a class="markdownIt-Anchor" href="#jdbctemplate使用"></a> JDBCTemplate使用</h4>
<p>  Spring封装了很多「Template」形式的模板类。例如：RedisTemplate，RestTemplate等等。</p>
<h5 id="准备"><a class="markdownIt-Anchor" href="#准备"></a> 准备</h5>
<p>  在之前的基础(spring-context、junit-jupiter-api、spring-test)上添加一下依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  创建数据库。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS `students`;</span><br><span class="line">CREATE TABLE `students` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` varchar(50) NOT NULL,</span><br><span class="line">  `gender` varchar(10) NOT NULL,</span><br><span class="line">  `age` int(11) DEFAULT NULL,</span><br><span class="line">  `classes` varchar(50) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Records of students</span><br><span class="line">-- ----------------------------</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;1&#x27;, &#x27;张三&#x27;, &#x27;男&#x27;, &#x27;20&#x27;, &#x27;高中一班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;2&#x27;, &#x27;李四&#x27;, &#x27;男&#x27;, &#x27;19&#x27;, &#x27;高中二班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;3&#x27;, &#x27;王五&#x27;, &#x27;女&#x27;, &#x27;18&#x27;, &#x27;高中一班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;4&#x27;, &#x27;赵六&#x27;, &#x27;女&#x27;, &#x27;20&#x27;, &#x27;高中三班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;5&#x27;, &#x27;刘七&#x27;, &#x27;男&#x27;, &#x27;19&#x27;, &#x27;高中二班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;6&#x27;, &#x27;陈八&#x27;, &#x27;女&#x27;, &#x27;18&#x27;, &#x27;高中一班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;7&#x27;, &#x27;杨九&#x27;, &#x27;男&#x27;, &#x27;20&#x27;, &#x27;高中三班&#x27;);</span><br><span class="line">INSERT INTO `students` VALUES (&#x27;8&#x27;, &#x27;吴十&#x27;, &#x27;男&#x27;, &#x27;19&#x27;, &#x27;高中二班&#x27;);</span><br></pre></td></tr></table></figure>
<p>  创建学生类、jdbc配置文件、spring配置文件。</p>
<h5 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:spring.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        String sql = &quot;insert into students (name,gender,age,classes) values(?,?,?,?)&quot;;</span></span><br><span class="line"><span class="comment">//        Object[] args = &#123;&quot;萧十一&quot;,&quot;男&quot;,&quot;55&quot;,&quot;幼儿园大班&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        int update = jdbcTemplate.update(sql, args);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;update = &quot; + update);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        String sql = &quot;update students set age = ? where id = ?&quot;;</span></span><br><span class="line"><span class="comment">//        int update = jdbcTemplate.update(sql, 40,2);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;update = &quot; + update);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        String sql = &quot;select count(*) from students&quot;;</span></span><br><span class="line"><span class="comment">//        Integer count = jdbcTemplate.queryForObject(sql, Integer.class);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;count = &quot; + count);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        String sql = &quot;select id,name,gender,age,classes from students where id=?&quot;;</span></span><br><span class="line"><span class="comment">//        RowMapper&lt;Student&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(Student.class);</span></span><br><span class="line"><span class="comment">//        Student student = jdbcTemplate.queryForObject(sql, rowMapper, 1);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;student = &quot; + student);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select id,name,gender,age,classes from students where age&gt;?&quot;</span>;</span><br><span class="line">        RowMapper&lt;Student&gt; rowMapper = <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;&gt;(Student.class);</span><br><span class="line">        List&lt;Student&gt; studentList = jdbcTemplate.query(sql, rowMapper, <span class="number">10</span>);</span><br><span class="line">        studentList.forEach(s-&gt; System.out.println(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="声明式事务"><a class="markdownIt-Anchor" href="#声明式事务"></a> 声明式事务</h4>
<ul>
<li>
<p>Spring声明式事务对应依赖（只导spring-jdbc即可，它包含了spring-tx。spring-orm没学到）</p>
<ul>
<li>spring-tx：包含声明式事务实现的基本规范（事务管理器规范接口和事务增强等等）</li>
<li>spring-jdbc：包含DataSource方式事务管理器实现类DataSourceTransactionManage</li>
<li>spring-orm：包含其他持久层框架的事务管理器实现类例如：Hibernate/Jpa等</li>
</ul>
</li>
<li>
<p>Spring声明式事务对应事务管理器接口</p>
  <img data-src="https://s2.loli.net/2024/02/19/pXPDKi2FjLfnbIW.png" alt="Spring声明式事务对应事务管理器接口" style="zoom: 67%;" />
</li>
<li>
<p>DataSourceTransactionManage主要方法</p>
<ul>
<li><code>doBegin()</code>：开启事务</li>
<li><code>doSuspend()</code>：挂起事务</li>
<li><code>doResume()</code>：恢复挂起的事务</li>
<li><code>doCommit()</code>：提交事务</li>
<li><code>doRollback()</code>：回滚事务</li>
</ul>
</li>
</ul>
<h4 id="xml配置声明式事务"><a class="markdownIt-Anchor" href="#xml配置声明式事务"></a> xml配置声明式事务</h4>
<p>  xml配置里前面几乎和之前的一样，主要是后几个。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.jdbc.tx&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverclassName&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    事务管理器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    开启事务的注解支持--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentDao</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateNameByID</span><span class="params">(String name ,Integer id)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update students set name = ? where id = ?&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> jdbcTemplate.update(sql, name, id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateAgeById</span><span class="params">(Integer age ,Integer id)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update students set age = ? where id = ?&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> jdbcTemplate.update(sql, age, id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*****************************************/</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServices</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentDao studentDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">changeInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        studentDao.updateNameByID(<span class="string">&quot;大一&quot;</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;---------&quot;</span>);</span><br><span class="line"><span class="comment">//        int i = 1/0;</span></span><br><span class="line">        studentDao.updateAgeById(<span class="number">180</span>,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/******************************************/</span></span><br><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:spring.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TxTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StudentServices studentServices;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        studentServices.changeInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果注入的事务管理器id叫transactionManager，那么 <code>tx:annotation-driven</code> 就不用写<code>transaction-manager=&quot;transactionManager&quot;</code>，因为它是默认值</li>
</ul>
<h4 id="配置类配置声明式事务"><a class="markdownIt-Anchor" href="#配置类配置声明式事务"></a> 配置类配置声明式事务</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.atguigu.jdbc.tx&quot;&#125;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DruidDataSource <span class="title function_">dataSource</span><span class="params">(<span class="meta">@Value(&quot;$&#123;jdbc.driverClassName&#125;&quot;)</span> String driverClassName,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span> String url,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span> String username,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span> String password)</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverClassName(driverClassName);</span><br><span class="line">        dataSource.setUrl(url);</span><br><span class="line">        dataSource.setUsername(username);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> JdbcTemplate <span class="title function_">jdbcTemplate</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">JdbcTemplate</span> <span class="variable">jdbcTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>(dataSource);</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSourceTransactionManager <span class="title function_">transactionManager</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">DataSourceTransactionManager</span> <span class="variable">dataSourceTransactionManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>(dataSource);</span><br><span class="line">        <span class="keyword">return</span> dataSourceTransactionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>@EnableTransactionManagement</code>注解就是<code>&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;</code></li>
<li><code>@EnableTransactionManagement</code>没有进行属性赋值，是因为使用默认值</li>
</ul>
<h4 id="transactional注解"><a class="markdownIt-Anchor" href="#transactional注解"></a> @Transactional注解</h4>
<ul>
<li>
<p>定义在类上，意味着该业务类中的所有方法都有事务</p>
</li>
<li>
<p>局部覆盖全局</p>
</li>
<li>
<p>只读<code>@Transactional(readonly= true)</code></p>
</li>
<li>
<p>超时（超时回滚，释放资源）<code>timeout = -1</code>：永不超时。单位秒</p>
</li>
<li>
<p>事务异常：默认只回滚运行时异常，编译（检查）异常不回滚。例子：<code>rollbackFor = FileNotFoundException.class</code>、<code>noRollbackFor = ArithmeticException.class</code></p>
</li>
<li>
<p>事务隔离级别：<code>isolation = Isolation.DEFAULT</code>，我：一般不写不改</p>
</li>
<li>
<p>事务传播行为：默认<code>propagation = Propagation.REQUIRED</code></p>
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>REQUIRED</code><br/>默认值</td>
<td>当前方法必须作在事务中<br/>如果当前线程上有已经开启的事务可用，那么就在这个事务中运行<br/>如果当前线程上没有已经开启的事务，那么就自己开启新事务，在新事务中运行<br/>所以当前方法有可能和其他方法共用事务<br/>在共用事务的情况下：当前方法会因为其他方法回滚而受连累</td>
</tr>
<tr>
<td style="text-align:center">REQUIRES_NEW</td>
<td>当前方法必须工作在事务中<br/>不管当前线程上是否有已经开启的事务，都要开启新事务<br/>在新事务中运行<br/>不会和他万法共用事务，避免被其他方法连累</td>
</tr>
</tbody>
</table>
<p><strong><span style="color:#0000FF;">举例</span></strong>：①在StudentServices里有两个有事务的方法，changeName和changeAge，在TopServices里有一个有事务的方法，changeInfo。在测试里调用changeInfo，只要有异常就会都回滚，用的同一个。②将changeName和changeAge的事务的propagation改为<code>REQUIRES_NEW</code>，就会各管各的。</p>
<p><strong><span style="color:#0000FF;">注意：</span></strong><code>REQUIRED</code>和<code>REQUIRES_NEW</code>，在一个<code>REQUIRED</code>事务方法里先调用具有<code>REQUIRED</code>的方法，再调用具有<code>REQUIRES_NEW</code>的方法。当具有<code>REQUIRES_NEW</code>的方法出异常后，会一直等待</p>
<ul>
<li><code>Propagation.NESTED</code>：如果当前存在事务，则在该事务中嵌套一个新事务，如果没有事务，则与<code>Propagation.REQUIRED</code>一样</li>
<li><code>Propagation.SUPPORTS</code>：如果当前存在事务，则加入该事务，否则以非事务方式执行</li>
<li><code>Propagation.NOT_SUPPORTED</code>：以非事务方式执行，如果当前存在事务，挂起该事务</li>
<li><code>Propagation.MANDATORY</code>：必须在一个已有的事务中执行，否则抛出异常</li>
<li><code>Propagation.NEVER</code>：必须在没有事务的情况下执行，否则抛出异常</li>
</ul>
</li>
</ul>
<h4 id="将事务注解放到xml文件"><a class="markdownIt-Anchor" href="#将事务注解放到xml文件"></a> 将事务注解放到xml文件</h4>
<p>  主要利用AOP思想，所以要记得导包。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    开启组件扫描--&gt;</span><br><span class="line">    &lt;context:component-scan base-<span class="keyword">package</span>=<span class="string">&quot;com.atguigu.jdbc.tx.xml&quot;</span>/&gt;</span><br><span class="line">&lt;!--    导入外部配置--&gt;</span><br><span class="line">    &lt;context:property-placeholder location=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span><br><span class="line">&lt;!--    德鲁伊连接池--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;dataSource&quot;</span> class=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;driverClassName&quot;</span> value=<span class="string">&quot;$&#123;jdbc.driverClassName&#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;url&quot;</span> value=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;!--    JDBCTemplate--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;jdbcTemplate&quot;</span> class=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;dataSource&quot;</span> ref=<span class="string">&quot;dataSource&quot;</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;!--    事务管理器--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;transactionManager&quot;</span> class=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;dataSource&quot;</span> ref=<span class="string">&quot;dataSource&quot;</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;!--    配置声明式事务--&gt;</span><br><span class="line">&lt;!--    <span class="number">1.</span> 创建事务增强--&gt;</span><br><span class="line">    &lt;tx:advice id=<span class="string">&quot;txAdvice&quot;</span> transaction-manager=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><br><span class="line">        &lt;tx:attributes&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;get*&quot;</span> read-only=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;query*&quot;</span> read-only=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;find*&quot;</span> read-only=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">            </span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;save*&quot;</span> read-only=<span class="string">&quot;false&quot;</span> /&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;change*&quot;</span> read-only=<span class="string">&quot;false&quot;</span> rollback-<span class="keyword">for</span>=<span class="string">&quot;java.io.FileNotFoundException&quot;</span> no-rollback-<span class="keyword">for</span>=<span class="string">&quot;java.lang.ArithmeticException&quot;</span> propagation=<span class="string">&quot;REQUIRES_NEW&quot;</span>/&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;updata*&quot;</span> read-only=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;delete*&quot;</span>/&gt;</span><br><span class="line">&lt;!--            兜底--&gt;</span><br><span class="line">            &lt;tx:method name=<span class="string">&quot;*&quot;</span> /&gt;</span><br><span class="line">        &lt;/tx:attributes&gt;</span><br><span class="line">    &lt;/tx:advice&gt;</span><br><span class="line">&lt;!--    <span class="number">2.</span> 利用AOP将事务增强切入到指定位置--&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;aop:pointcut id=<span class="string">&quot;pc&quot;</span> expression=<span class="string">&quot;execution(* *..*Services.*(..))&quot;</span>/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=<span class="string">&quot;txAdvice&quot;</span> pointcut-ref=<span class="string">&quot;pc&quot;</span>/&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
<h2 id="springmvc"><a class="markdownIt-Anchor" href="#springmvc"></a> SpringMVC</h2>
<h3 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h3>
<p>  SpringWebMVc是基于ServletAPi构建的原始Web框架，从一开始就包含在SpringFramework中。</p>
<ul>
<li>Spring家族原生产品， 与IOC容器等基础设施无缝对接</li>
<li>表述层各细分领域需要解决的问题全方位覆盖，提供全面解决方案</li>
<li>代码清新简洁，大幅度提升开发效率</li>
<li>为组件化程度高插拔式组件即插即用，想要什么功能配置相应组件即可</li>
<li>性能卓著，尤其适合现代大型，超大型互联网目要求</li>
</ul>
<p>SpringMVC的作用主要覆盖的是表述层，例如：请求映射、数据输入、视图界面、请求分发、表单回显、会话控制、过滤拦截、异步交互、文件上传、文件下载、数据校验、类型转换等等等</p>
<img data-src="https://s2.loli.net/2024/02/24/5WnPtVRpE3esZI4.png" alt="处理请求流程简略版" style="zoom:50%;" />
<ul>
<li><code>DispatcherServlet</code>：SpringMVc提供，需要使用web.xml配置使其生效，它是整个流程处理的核心，所有请求都经过它的处理和分发</li>
<li><code>HandlerMapping</code>：SpringMVC提供，需要进行IOC配置使其加入IOC容器方可生效，它内部缓存handler(controller）方法和handler(controller）访问路径数据，被DispatcherServlet调用，用于查找路径对应的handler(controller）</li>
<li><code>HandlerAdapter</code>：SpringMVC提供，需要进行IOC配置使其加入IOC容器方可生效。它可以处理请求参数和处理响应数据数据，每次DispatcherServlet都是通过handlerAdapter间接调用handler(controller），他是handler(controller）和<code>DispatcherServlet</code>之间的适配器</li>
<li><code>Handler</code>：handler又称处理器，他是controller类内部的方法简称，自已定义，用来接收参数，向后调用业务，最终返回响应结果</li>
<li><code>ViewResovler</code>：SpringMVC提供，需要进行IOC配置使其加入IOC容器方可生效。视图解析器主要作用简化模版视图页面查找的。相对其他的组件不是必须的</li>
</ul>
<h3 id="体验"><a class="markdownIt-Anchor" href="#体验"></a> 体验</h3>
<ol>
<li>
<p>（默认已经是web项目了）导包：</p>
<p>因为spring-webmvc依赖了其他包，所以导它即可。</p>
<p>因为要用servlet，但新的servlet在jakarta里，不在javax。</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jakarta.platform<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.jakartaee-web-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过查看HttpServlet源码，发现</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_DELETE</span> <span class="operator">=</span> <span class="string">&quot;DELETE&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_HEAD</span> <span class="operator">=</span> <span class="string">&quot;HEAD&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_GET</span> <span class="operator">=</span> <span class="string">&quot;GET&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_OPTIONS</span> <span class="operator">=</span> <span class="string">&quot;OPTIONS&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_POST</span> <span class="operator">=</span> <span class="string">&quot;POST&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_PUT</span> <span class="operator">=</span> <span class="string">&quot;PUT&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">METHOD_TRACE</span> <span class="operator">=</span> <span class="string">&quot;TRACE&quot;</span>;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://blog.51cto.com/jackiehao/6796996#:~:text=%E8%BF%99%E4%BA%9B%E6%98%AFHTTP,%E5%85%B1%E4%BA%AB%EF%BC%89%E8%AF%B7%E6%B1%82%E4%B8%AD%E3%80%82">网络解答</a></p>
</li>
<li>
<p>编写web.xml</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--	1. 注册DispatcherServlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		让spring创建HandlerMapping等，所以要指定springmvc的配置文件，进行IoC容器的创建--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		因为DispatcherServlet的组件只有一个，tomcat一启动就创建--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span><span class="comment">&lt;!-- 放到init-param前面就标红--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		拦截所有请求，除了.jsp--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>编写spring配置文件</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--   开启注解扫描--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.quick&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    配置HandlerMapping、HandlerAdapter、ViewResolver--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    方案一、自己配--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    方案二、自己不配，默认全配了--&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>编写Controller</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span><span class="comment">//不走页面，直接给前端</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>添加tomcat</p>
<p>必须要用10以上。</p>
<p><span style="color:#FF33FF;">坑点：</span>我没10，下载，改控制台日志编码为GBK，修改部分环境变量。启动，报错。</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jakarta.json.bind.JsonbException: JSON Binding provider org.eclipse.yasson.JsonBindingProvider not found</span><br></pre></td></tr></table></figure>
<p><span style="color:#00FF80;">解决：</span>添加org.eclipse的yasson依赖</p>
</li>
<li>
<p>运行，浏览器访问<a target="_blank" rel="noopener" href="http://localhost:8080/hello">localhost:8080/hello</a></p>
</li>
</ol>
<h3 id="requestmapping"><a class="markdownIt-Anchor" href="#requestmapping"></a> @RequestMapping</h3>
<p>  请求映射的路径，将路径和方法存储到HandLerMapping里，便于DispatcherServlet查找。开头的<code>/</code>可省略，SpringMVC自动补全。</p>
<ul>
<li>精确匹配
<ul>
<li>单层路径</li>
<li>多层路径</li>
<li>多个路径（我：相当于别名）</li>
</ul>
</li>
<li>模糊匹配（不影响精确匹配）
<ul>
<li>单层路径：<code>/user/*</code></li>
<li>多层路径：<code>/user/**</code></li>
<li>指定层：<code>/user/*/*</code>不向下兼容</li>
</ul>
</li>
<li>类上写，则表示该类的统一路径前缀</li>
<li>限制请求方式：默认所有请求方式，可通过method属性修改<code>method = RequestMethod.PosT</code>，不允许则405</li>
<li>请求进阶：非常明确一个方法要以什么请求方式请求时。可以使用以下注解<code>GetMapping</code>、<code>PostMapping</code>、<code>PutMapping</code>、<code>DeleteMapping</code>，只能写一个</li>
</ul>
<h3 id="requestparam"><a class="markdownIt-Anchor" href="#requestparam"></a> @RequestParam</h3>
<p>  <code>@ReguestParam(value=参数名 required=是否为必传，defaultValue=不传，默认值是什么）</code>。soutp 直接打印方法的所有参数。（当然你也可以只写参数，不写注解，只要参数名对上就赋值，对自定义对象也同理）</p>
<ul>
<li>前后端参数名不一致时，可以进行指定映射</li>
<li>参数是否必传，默认写上注解就必传了</li>
<li>当不传递时，可以赋予指定默认值</li>
<li>如果必传， 但是前端没传，会报400错误，必要的参数未提供</li>
<li>一名多值，用List接收</li>
</ul>
<h3 id="路径传参pathvariable"><a class="markdownIt-Anchor" href="#路径传参pathvariable"></a> 路径传参@PathVariable</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">showUserByID</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>隐藏数据的key名，保护数据安全</li>
<li>RESTful风格开发</li>
<li>当然，参数名和占位符一致，注解可不指定名字</li>
</ul>
<h3 id="接收json数据requestbody"><a class="markdownIt-Anchor" href="#接收json数据requestbody"></a> 接收JSON数据@RequestBody</h3>
<p>  <code>@RequestBody</code>注解来将JSON数据转换为Java对象，<code>@ReguestBody</code>注解表示当前方法参数的值应该从请求体中获取，并且需要指定value属性来指示请求体应该映射到哪个参数上。避免415错误，做如下操作。</p>
<p>  添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.15.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  装配jackson转换器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 装配HandlerAdapter 装配HandlerMapping 装配jackson转换器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>  使用了上述标签，则不用自己注入<code>HandlerAdapter</code>、<code>HandlerMapping</code>，尤其是<code>org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter</code></p>
<h3 id="获取cookiecookievalue"><a class="markdownIt-Anchor" href="#获取cookiecookievalue"></a> 获取cookie@CookieValue</h3>
<p>  cookie可以手动创建，也可以通过session触发创建。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/cookie/set&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">setCookie</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;session.getId() = &quot;</span> + session.getId());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;set cookie ok&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/cookie/get&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">getCookie</span><span class="params">(<span class="meta">@CookieValue(&quot;JSESSIONID&quot;)</span> String sessionID)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;sessionID = &quot;</span> + sessionID);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;get cookie ok&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>   通过setCookie方法传入<code>HttpSession</code>，触发创建cookie。通过<code>@CookieValue(&quot;JSESSIONID&quot;)</code> 注解获取cookie里JSESSIONID的值。</p>
<h3 id="获取请求头"><a class="markdownIt-Anchor" href="#获取请求头"></a> 获取请求头</h3>
<p>使用<code>@RequestHeader</code>注解将请求标头绑定到控制器中的方法参数。（我：可以得到一些信息，可以区分用户等）</p>
<h3 id="使用原生api"><a class="markdownIt-Anchor" href="#使用原生api"></a> 使用原生API</h3>
<p>  从前面的获取cookie时，传入的HttpSession就可得到一些感觉。</p>
<table>
<thead>
<tr>
<th style="text-align:center">部分控制器参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>jakarta.servlet.ServletRequest</code><br/><code>jakarta.servlet.ServletResponse</code></td>
<td>请求/响应对象</td>
</tr>
<tr>
<td style="text-align:center"><code>jakarta.servlet.http.HttpSession</code></td>
<td>强制存在会话。因此，这样的参数永远不会为nul1</td>
</tr>
<tr>
<td style="text-align:center"><code>java.io.Inputstream</code><br/><code>java.io.Reader</code></td>
<td>用于访问由ServletAPI公开的原始请求正文</td>
</tr>
<tr>
<td style="text-align:center"><code>java.io.Outputstream</code><br/><code>java.io.Write</code></td>
<td>用于访问由ServletAPI公开的原始响应正文</td>
</tr>
<tr>
<td style="text-align:center"><code>java.util.Map</code><br/><code>org.springframework.ui.Model</code><br/><code>org.sprinaframework.ui.ModelMap</code></td>
<td>共享域对象，并在视图呈现过程中向模板公开</td>
</tr>
<tr>
<td style="text-align:center"><code>Errors</code><br/><code>BindingResult</code></td>
<td>验证和数据绑定中的错误信息获取对象</td>
</tr>
</tbody>
</table>
<h2 id="未解决的问题"><a class="markdownIt-Anchor" href="#未解决的问题"></a> 未解决的问题</h2>
<ul>
<li>从<code>getConnection</code>点进去，我们可以发现返回值上有括号，例如<code>return (con);</code>我不明白括号有什么用。</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>打赏</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="小可爱 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="小可爱 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>



          <div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/">Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 小可爱 的个人博客">小可爱</a></p>
  <p><span>发布时间:</span>2024年01月27日 - 00:34</p>
  <p><span>最后更新:</span>2024年02月25日 - 11:21</p>
  <p><span>原始链接:</span><a href="/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/" title="Maven、Spring、SpringMVC、MyBatis、SSM整合、SpringBoot">https://19980118.xyz/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://19980118.xyz/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
	});
    });  
</script>


      
</div>
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/Spring/" rel="tag"># Spring</a>
              <a href="/tags/SpringMVC/" rel="tag"># SpringMVC</a>
              <a href="/tags/Maven/" rel="tag"># Maven</a>
              <a href="/tags/SpringBoot/" rel="tag"># SpringBoot</a>
              <a href="/tags/MyBatis/" rel="tag"># MyBatis</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/01/22/%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/" rel="prev" title="个人简历">
                  <i class="fa fa-chevron-left"></i> 个人简历
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>







    <div class="comments" id="waline"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小可爱</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">395k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:59</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>




<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>  
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("07/15/2019 13:14:21");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>


  <script src='https://unpkg.com/mermaid@/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      
      mermaid.initialize({theme: 'forest'});
    }
  </script>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/Q&A.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>
<script class="next-config" data-name="chatra" type="application/json">{"enable":true,"async":true,"id":"QoLQx5ntEgvMDisbP"}</script>
<script src="/js/third-party/chat/chatra.js"></script>
<script async src="https://call.chatra.io/chatra.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.7/mermaid.min.js","integrity":"sha256-G58AID1YoX5YaEtWfXSI0VLrZ6N4kvNvwg0BI8zUFxE="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/katex.min.css" integrity="sha256-oWCabCfPd4Oi21wqZezBSz/anto4VYcJqc9sM9IzQTk=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js"></script>


<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://comm.19980118.xyz","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"locale":{"placeholder":"🤣一起来玩，留下你的足迹吧~。\n 🚀昵称使用QQ号可以自动补全邮箱和显示头像昵称等信息呢。\n 💣请文明评论哦禁止恶意评论！\n ⚠️公开网络空间，请不要发表任何包含个人或其他人的隐私信息。\n 注：评论不成功请二次评论，或者使用魔法。"},"avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":["nick","mail"],"libUrl":"https://unpkg.com/@waline/client@v2/dist/waline.js","emoji":"https://unpkg.com/@waline/emojis@1.0.1/weibo","el":"#waline","comment":true,"path":"/2024/01/27/Maven%E3%80%81Spring%E3%80%81SpringMVC%E3%80%81MyBatis%E3%80%81SSM%E6%95%B4%E5%90%88%E3%80%81SpringBoot/"}</script>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css">
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script>


  <!-- 点击出现社会主义彩色文字 -->
 <!--<script type="text/javascript" src="/js/shzyhxjzg.js"></script>
--><!-- 点击动画 --><!--
 <script type="text/javascript" src="/js/love.js"></script>
-->
<!-- 点击出现社会主义彩色文字 --><script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/shehuizhuyi.js"></script><!-- 点击出现爱心 --><script src="https://cdn.jsdelivr.net/gh/wallleap/cdn/js/love.js"></script>
<!-- 天气 -->
<script type="text/javascript">
WIDGET = {FID: 'apV00Hp0nY'}
</script>
<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>
<!-- 动态标签 -->
<script type="text/javascript">
    var OriginTitile = document.title,
        st;
    document.addEventListener("visibilitychange", function () {
        document.hidden ? (document.title = "看不见我🙈~看不见我🙈~", clearTimeout(st)) : (document.title =
            "(๑•̀ㅂ•́) ✧被发现了～", st = setTimeout(function () {
                document.title = OriginTitile
            }, 3e3))
    })
</script>
<!-- 折叠 --><!-- 
<script type="text/javascript">
$(document).ready(function(){
    $(document).on('click', '.fold_hider', function(){
        $('>.fold', this.parentNode).slideToggle();
        $('>:first', this).toggleClass('open');
    });
    //默认情况下折叠
    $("div.fold").css("display","none");
});
</script> -->
<!-- 背景 -->

<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>



<script src="/live2d-widget/autoload.js"></script>
  
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":0,"vOffset":-20},"mobile":{"show":false,"scale":0.5},"react":{"opacity":0.7},"log":false});</script></body>

</html>
